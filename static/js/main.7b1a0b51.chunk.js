(this["webpackJsonpmy-editor"]=this["webpackJsonpmy-editor"]||[]).push([[0],{244:function(e,t,n){},371:function(e,t,n){},389:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var r,i=n(38),o=n.n(i),a=n(31),c=n(10),l=n(16),s=n(6),u=n(0),d=n(1),f=n(9),b=n(136);!function(e){e.EDITOR="editor",e.NUMBER_LIST="ol",e.NORMAL_LIST="ul",e.LIST_ITEM="li",e.DIV="div",e.Block="block",e.P="p",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.IMG="img",e.LINK="link",e.TABLE="table",e.TBODY="tbody",e.TR="tr",e.TD="td",e.TODOLIST="todo",e.CHECKBOX="checkbox",e.CODE="code",e.FILE="file"}(r||(r={}));var h,j,v=[r.DIV,r.H1,r.H2,r.H3,r.H4,r.P],p=[r.IMG,r.LINK,r.CHECKBOX];!function(e){e.BOLD="bold",e.ITALIC="italic",e.FontSize="fontSize",e.Underline="underline",e.LineThrough="line-through",e.Color="color",e.BGColor="backgroundColor",e.TextAlign="textAlign"}(h||(h={})),function(e){e.FontTypeButton="FontTypeButton",e.FontSizeButton="FontSizeButton",e.TextAlignButton="TextAlignButton",e.CopyFormatButton="CopyFormatButton",e.CleanFormatButton="CleanFormatButton",e.FontColorButton="FontColorButton",e.FontBGColorButton="FontBGColorButton",e.FontWeightButton="FontWeightButton",e.FontStyleButton="FontStyleButton",e.UnderLineButton="UnderLineButton",e.LineThroughButton="LineThroughButton",e.ToDoListButton="ToDoListButton",e.OrderListButton="OrderListButton",e.NormalListButton="NormalListButton",e.InsertTextAfterVoid="InsertTextAfterVoid",e.InsertTextBeforeVoid="InsertTextBeforeVoid",e.SetLinkButton="SetLinkButton",e.InsertImgButton="InsertImgButton",e.InsertFileButton="InsertFileButton",e.InsertTableButton="InsertTableButton",e.TableAutoWidthButton="TableAutoWidthButton",e.DeleteTableButton="DeleteTableButton",e.CopyTableButton="CopyTableButton",e.SelectCellButton="SelectCellButton",e.DeleteColumnButton="DeleteColumnButton",e.DeleteRowButton="DeleteRowButton",e.InsertColumnBeforeCell="InsertColumnBeforeCell",e.InsertColumnAfterCell="InsertColumnAfterCell",e.InsertRowBeforeButton="InsertRowBeforeButton",e.InsertRowAfterButton="InsertRowAfterButton",e.MergeCellButton="MergeCellButton",e.SplitCellButton="SplitCellButton",e.ClearCellButton="ClearCellButton",e.ReadOnlyButton="ReadOnlyButton",e.InsertCodeButton="InsertCodeButton"}(j||(j={}));var O,m,g="data-cypress-id";!function(e){e.ORDER_LIST="order_list",e.NORMALIZE_LIST="unorder_list",e.TODO_LIST="todo_list",e.SELECTE_TD="select_td",e.AT_PERSON_MODAL="atPersonModal",e.AT_PERSON_TEXT="atPersonText",e.WRAP_FONT_COMP="wrapFontComp",e.SET_FONT_SIZE="setFontSize",e.SET_FONT_ALIGN="setFontAlign",e.SET_BOLD="setBold",e.SET_ITALIC="setItalic",e.SET_UNDERLINE="setUnderline",e.SET_LINETHROUGH="setLinethrough",e.COPY_FORMAT="copyFormat",e.CLEAN_FORMAT="cleanFormat"}(O||(O={})),function(e){e.LEFT="left",e.RIGHT="right",e.X_CENTER="xCenter",e.Y_CENTER="yCenter",e.XY_CENTER="xyCenter"}(m||(m={}));var y="CyEditor_FixlayoutBox",T="cyEditor__content",x=n(12),w=n(23),E=n.n(w),S=n(35),N={getTextAlignStyle:function(e){if(!e)return{};switch(e){case m.LEFT:return{textAlign:"left"};case m.RIGHT:return{textAlign:"right"};case m.X_CENTER:return{textAlign:"center"};case m.Y_CENTER:return{verticalAlign:"middle"};case m.XY_CENTER:return{verticalAlign:"middle",textAlign:"center"};default:return{}}},getDataTransfer:function(e){var t=new DataTransfer;return t.setData("application/x-slate-fragment",N.encodeSlateContent([])),t},getCursorPos:function(e){var t;if(!e.selection||d.g.isExpanded(e.selection))return[-1,-1];var n=f.b.toDOMRange(e,e.selection),r=n.startContainer,i=n.startOffset,o=N.calcTextWidth(null===(t=r.textContent)||void 0===t?void 0:t.slice(0,i)),a=N.calcOffsetDistanceFromAToB(r.parentNode,f.b.toDOMNode(e,e).parentElement);return[a.offsetLeft+o,a.offsetTop]},insertCypressId:function(e,t){return null!=e[t]?Object(a.a)({},g,e[t]):{}},calcTextWidth:function(e){if("string"!==typeof e)return 0;var t=document.createElement("span");t.innerHTML=e.replace(/ /gi,"&nbsp;"),t.style.opacity="0.01",document.body.appendChild(t);var n=t.offsetWidth;return t.remove(),n},calcOffsetDistanceFromAToB:function(e,t){var n;if(!(null===t||void 0===t||null===(n=t.contains)||void 0===n?void 0:n.call(t,e)))return{offsetLeft:-999999,offsetTop:-999999};var r=e,i=0,o=0;do{i+=r.offsetLeft-(r.scrollLeft||0),o+=r.offsetTop,r=r.offsetParent}while(r!=t);return{offsetLeft:i,offsetTop:o}},findParent:function(e,t){for(var n=e;null!=n&&n!=t;)n=n.offsetParent;return n},findParentByClassName:function(e,t){for(var n=e;null!=n&&n.className!=t;)n=n.parentNode;return n},isElementEmpty:function(e,t){return!Array.from(d.c.descendants(t[0])).some((function(t){var n=Object(s.a)(t,2),r=n[0],i=n[1];return d.h.isText(r)&&r.text.length>0||d.a.isVoid(e,r)||d.a.isInline(e,r||""!==d.a.string(e,i,{voids:!0}))}))},removeAllRange:function(){var e;null===(e=window.getSelection())||void 0===e||e.removeAllRanges()},encodeSlateContent:function(e){var t;return null===(t=window)||void 0===t?void 0:t.btoa(encodeURIComponent(JSON.stringify(e)))},decodeContentToSlateData:function(e){return JSON.parse(decodeURIComponent(window.atob(e)))},filterCopyedContent:function(e){var t=[];return e.forEach((function(e){U.isTable(e)?Array.from(d.c.descendants(e)).forEach((function(e){U.isTd(e[0])&&t.push.apply(t,Object(l.a)(e[0].children))})):U.isTd(e)?t.push.apply(t,Object(l.a)(e.children)):t.push(e)})),t},removeRangeElement:function(e){if(e.selection&&!d.g.isCollapsed(e.selection)){var t=e.selection,n=d.a.range(e,[]),r=d.g.intersection(n,t);if(r&&d.g.equals(r,n))d.a.withoutNormalizing(e,(function(){var t,n=Object(x.a)(d.c.children(e,[],{reverse:!0}));try{for(n.s();!(t=n.n()).done;){var r=Object(s.a)(t.value,2)[1];d.i.removeNodes(e,{at:r,hanging:!0,voids:!0,mode:"highest"})}}catch(i){n.e(i)}finally{n.f()}}));else{var i,o=function(){if(e.selection){for(var t=d.g.start(e.selection),n=d.g.end(e.selection),r=function(e,t){return-1==d.f.compare(e,t)},i=function(e,t){return 0==d.f.compare(e,t)},o=[],a=0,c=Array.from(d.a.nodes(e,{match:function(e){return U.isTable(e)}}));a<c.length;a++){var l=c[a],s=d.a.start(e,l[1]),u=d.a.end(e,l[1]),f=d.a.before(e,s)||s,b=d.a.after(e,u)||u;if(r(t,s)?r(n,u)?(o.push([t,f],[s,n]),t=null):i(n,u)?(o.push([t,f],[s,u]),t=null):(o.push([t,f],[s,u]),t=b):i(t,s)?r(n,u)?(o.push([s,n]),t=null):i(n,u)?(o.push([s,u]),t=null):(o.push([s,u]),t=b):r(n,u)?(o.push([t,n]),t=null):i(n,u)?(o.push([t,u]),t=null):(o.push([t,u]),t=b),null==t)break}return null!=t&&r(t,n)&&o.push([t,n]),o}}()||[],a=Object(x.a)(o.reverse());try{for(a.s();!(i=a.n()).done;){var c=i.value,l={anchor:c[0],focus:c[1]};if(!d.g.isCollapsed(l)){var u=d.a.above(e,{at:l,match:function(e){return U.isTable(e)}});if(u){var f=d.a.range(e,u[1]),b=d.g.intersection(l,f);if(b&&d.g.equals(b,f)){d.i.removeNodes(e,{at:u[1]});continue}for(var h=Array.from(d.a.nodes(e,{at:l,match:function(e){return U.isTd(e)}})),j=0,v=h;j<v.length;j++){var p=v[j],O=d.a.range(e,p[1]),m=d.g.intersection(O,l);if(m&&d.g.isExpanded(m))if(d.g.equals(m,O)){var g,y=Object(x.a)(d.c.children(e,p[1],{reverse:!0}));try{for(y.s();!(g=y.n()).done;){var T=Object(s.a)(g.value,2)[1];d.i.removeNodes(e,{at:T})}}catch(w){y.e(w)}finally{y.f()}}else d.i.setSelection(e,m),d.i.delete(e,{hanging:!0,voids:!0})}}else d.i.setSelection(e,l),d.i.delete(e,{hanging:!0,voids:!0})}}}catch(w){a.e(w)}finally{a.f()}d.i.select(e,d.g.start(t))}}},isTextWrapper:function(e){return d.b.isElement(e)&&v.includes(e.type)},getFirstAboveElementType:function(e){if(e.selection){var t=N.getParent(e,e.selection.anchor.path);if(!t[0])return null;var n=N.getParent(e,t[1]);return n[0]?d.b.isElement(n[0])&&n[0].type||d.a.isEditor(n[0])&&r.EDITOR:null}},getPath:function(e,t){var n=e.slice(0,e.length-1),r=e[e.length-1];return"parent"==t?n:[].concat(Object(l.a)(n),["pre"==t?r-1:r+1])},getNodeByPath:function(e,t){try{return d.a.node(e,t)}catch(n){return[]}},getParent:function(e,t){return this.getNodeByPath(e,this.getPath(t,"parent"))},hasNotSelectedAnyTd:function(e){return null==U.getFirstSelectedTd(e)&&!U.isInTable(e)}},C={selectedTds:new Set,editingTdsPath:new Set,preSelectedTdPos:{row:0,col:0},copyedCellsPath:null,copyedAreaHeight:0,copyedAreaWidth:0,copyedCells:null,copyedContent:null},I=function(e){C.copyedCells=e},L=function(){return C.copyedCells},D=function(e){C.copyedAreaHeight=e.copyedAreaHeight,C.copyedAreaWidth=e.copyedAreaWidth},B=function(e){return R(e,C.selectedTds),C.selectedTds},A=function(e){C.selectedTds=e},R=function e(t,n){var r,i=Object(x.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.split(",").map((function(e){return+e}));if(!d.a.hasPath(t,a))return n.delete(o),void e(t,n)}}catch(c){i.e(c)}finally{i.f()}},M=function(e){return R(e,C.editingTdsPath),C.editingTdsPath},P=function(e){C.editingTdsPath=e},F=n(3),k=100,_=30,z=function(e){var t=e.attributes,n=e.element,i=e.children,o=Object(f.g)(),a=Object(f.d)();Object(u.useEffect)((function(){var e=f.b.findPath(o,n);return null!=n.width&&null!=n.height||d.i.setNodes(o,{width:n.width||k,height:n.height||_},{at:e}),function(){var e=f.b.findPath(o,n).join(","),t=B(o),r=M(o);t.delete(e),r.delete(e)}}),[]),Object(u.useEffect)((function(){var e=f.b.findPath(o,n).join(","),t=B(o),r=M(o),i=n.selected;!0===n.tdIsEditing?r.add(e):r.delete(e),!0===i?t.add(e):t.delete(e)}));return Object(F.jsxs)("td",Object(c.a)(Object(c.a)({},t),{},{colSpan:n.colSpan,rowSpan:n.rowSpan,style:Object(c.a)(Object(c.a)({},n.tdAutoWidth?{minWidth:k}:{minWidth:n.width||k,maxWidth:n.width||k,width:n.width||k}),{},{height:n.height||_,color:n[h.Color]||"unset",backgroundColor:n.selected&&!a?"rgba(180,215,255,.7)":n[h.BGColor]||"unset",fontSize:n[h.FontSize]||"unset",fontWeight:n[h.BOLD]?"bold":"unset",fontStyle:n[h.ITALIC]?"italic":"unset",textDecoration:"".concat(n[h.Underline]?"underline":""," ").concat(n[h.LineThrough]?"line-through":"")},N.getTextAlignStyle(n.textAlign)),onClick:function(){},onDoubleClick:function(e){if(e.nativeEvent.target==t.ref.current){W.deselectAllTd(o);var r=f.b.findPath(o,n);d.i.setNodes(o,{start:!0,selected:!0},{at:r}),d.i.deselect(o)}},children:[i,a||n.tdAutoWidth?null:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{className:"resizer",style:{position:"absolute",zIndex:10,width:5,right:0,top:0,height:"100%",cursor:"col-resize",userSelect:"none"},contentEditable:!1,onMouseDown:function(e){for(var t=e.clientX,n=null,i=null,a=0,c=e.nativeEvent.path;a<c.length;a++){var u=c[a];if("TD"==u.tagName&&(n=u),"TABLE"==u.tagName){i=u;break}}if(null!=n&&null!=i){var b=f.b.toSlateNode(o,n),h=f.b.findPath(o,b),j=d.a.above(o,{at:h,match:function(e){return d.b.isElement(e)&&e.type==r.TBODY}});if(j){for(var v=W.getTdMap(j).tdMap,p=h.slice(h.length-2),O=Object(s.a)(p,2),m=O[0],g=O[1],y=-1,T=0;T<v.length;T++){for(var x=0;x<v[T].length;x++){var w=v[T][x];if(w.originCol==g&&w.originRow==m){y=w.col+w.colSpan-1;break}}if(-1!=y)break}if(-1!=y){for(var E=[],S=0;S<v.length;S++){var N=v[S][y],C=d.a.node(o,[].concat(Object(l.a)(j[1]),[N.originRow,N.originCol])),I=f.b.toDOMNode(o,C[0]);I.initX=I.offsetWidth,E.push(I)}var L=function(e){var n=e.clientX-t;E.forEach((function(e){e.style.maxWidth=e.style.width=e.style.minWidth=(e.initX+n<k?k:e.initX+n)+"px"}))};document.addEventListener("mousemove",L),document.addEventListener("mouseup",(function e(){Array.from(i.querySelectorAll(":scope>tbody>tr")).forEach((function(e,t){Array.from(e.querySelectorAll(":scope>td")).forEach((function(e,n){var r=parseInt(e.style.minWidth),i=f.b.toSlateNode(o,e);d.b.isElement(i)&&i.width!=r&&d.i.setNodes(o,{width:r},{at:[].concat(Object(l.a)(j[1]),[t,n])})}))})),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",e)}))}}}}}),Object(F.jsx)("span",{className:"resizer",style:{position:"absolute",zIndex:10,width:"100%",height:5,left:0,bottom:0,cursor:"row-resize",userSelect:"none"},contentEditable:!1,onMouseDown:function(e){for(var t=e.clientY,n=null,i=null,a=null,c=0,u=e.nativeEvent.path;c<u.length;c++){var b=u[c];if("TD"==b.tagName&&(n=b),"TR"==b.tagName&&(i=b),"TABLE"==b.tagName){a=b;break}}if(null!=n&&null!=i&&null!=a){var h=f.b.toSlateNode(o,n),j=f.b.findPath(o,h),v=d.a.above(o,{at:j,match:function(e){return d.b.isElement(e)&&e.type==r.TBODY}});if(v){for(var p=W.getTdMap(v).tdMap,O=j.slice(j.length-2),m=Object(s.a)(O,2),g=m[0],y=m[1],T=-1,x=0;x<p.length;x++){for(var w=0;w<p[x].length;w++){var E=p[x][w];if(E.originCol==y&&E.originRow==g){T=E.row+E.rowSpan-1;break}}if(-1!=T)break}if(-1!=T){for(var S=[],N=0;N<p[0].length;N++){var C=p[T][N],I=d.a.node(o,[].concat(Object(l.a)(v[1]),[C.originRow,C.originCol])),L=f.b.toDOMNode(o,I[0]);L.initY=L.offsetHeight,S.push(L)}var D=function(e){e.preventDefault();var n=e.clientY-t;S.forEach((function(e){return e.style.minHeight=e.style.height=e.style.maxHeight=(e.initY+n<=_?_:e.initY+n)+"px"}))};document.addEventListener("mousemove",D),document.addEventListener("mouseup",(function e(){Array.from(a.querySelectorAll(":scope>tbody>tr")).forEach((function(e,t){Array.from(e.querySelectorAll(":scope>td")).forEach((function(e,n){var r=parseInt(e.style.height),i=f.b.toSlateNode(o,e);d.b.isElement(i)&&i.height!=r&&d.i.setNodes(o,{height:r},{at:[].concat(Object(l.a)(v[1]),[t,n])})}))})),document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",e)}))}}}}})]})]}))},W={getTdMap:function(e){for(var t=e[0].children,n=[],r=new Array(t.length).fill(0).map((function(){return[]})),i=0;i<t.length;i++)for(var o=t[i].children,a=0;a<o.length;a++){var l=o[a];if(U.isTd(l)){var s=r[i].findIndex((function(e){return null==e})),u=(s=-1==s?r[i].length:s)+(l.colSpan||1),d=i,f=d+(l.rowSpan||1),b=Object(c.a)(Object(c.a)({},l),{},{colSpan:l.colSpan||1,rowSpan:l.rowSpan||1,row:i,col:s,originRow:i,originCol:a});(l.start||l.tdIsEditing)&&n.push(b);for(var h=d;h<f;h++)for(var j=s;j<u;j++)r[h][j]=b}}return{tdMap:r,startPoins:n}},getSelectedTdInTdMap:function(e){var t=W.getTdMap(e),n=t.tdMap,r=t.startPoins;if(r.length<1)return null;if(1==r.length&&(r[1]=r[0]),!n)return null;var i=Object(s.a)(r,2),o=i[0],a=i[1],c=new Map([[o,1],[a,1]]);return function e(t,r){for(var i=t.colStart,o=t.colEnd,a=t.rowStart,c=t.rowEnd,l=a;l<c;l++)for(var s=i;s<o;s++){var u=n[l][s];if(!r.has(u))return r.set(u,1),void e({colStart:Math.min(u.col,i),colEnd:Math.max(o,u.col+u.colSpan),rowStart:Math.min(u.row,a),rowEnd:Math.max(u.row+u.rowSpan,c)},r)}}({colStart:Math.min(o.col,a.col),colEnd:Math.max(o.col+o.colSpan,a.col+a.colSpan),rowStart:Math.min(o.row,a.row),rowEnd:Math.max(o.row+o.rowSpan,a.row+a.rowSpan)},c),c},deselectAllTd:function(e){var t,n=U.getSelectedTdsPath(e),r=Object(x.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;d.i.unsetNodes(e,["selected","start","tdIsEditing"],{at:i})}}catch(s){r.e(s)}finally{r.f()}A(new Set);var o,a=U.getEditingTdsPath(e),c=Object(x.a)(a);try{for(c.s();!(o=c.n()).done;){var l=o.value.split(",").map((function(e){return+e}));d.i.unsetNodes(e,["selected","start","tdIsEditing"],{at:l})}}catch(s){c.e(s)}finally{c.f()}P(new Set)},findTargetTd:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var o=d.a.above(e,{at:t[1],mode:"lowest",match:function(e){return d.b.isElement(e)&&e.type==r.TBODY}});if(o&&d.b.isElement(o[0])){var a,c,s=W.getTdMap(o),u=s.tdMap;if(u.some((function(e,t){return e.some((function(e,n){return!0===e.tdIsEditing&&(a=t,c=n,!0)}))})),null!=a&&null!=c){var f=u[a][c],b=c,h=a;if("left"==n)b=0==c?0==a?0:(h=a-1,u[0].length-1):c-1;else if("right"==n){var j=c+f.colSpan;b=j>=u[0].length?a==u.length-1?c:(h=a+1,0):j}else"up"==n?h=0==a?0:a-1:"down"==n&&(h=a+f.rowSpan>=u.length?a:a+f.rowSpan);var v=u[h][b],p=[].concat(Object(l.a)(o[1]),[v.originRow,v.originCol]),O=d.a.node(e,p);O&&(d.i.select(e,i?d.a.range(e,O[1]):["down","right"].includes(n)?d.a.start(e,O[1]):d.a.end(e,O[1])),W.setTdIsEditing(e,O[1]))}}}},setTdIsEditing:function(e,t){W.deselectAllTd(e),d.i.setNodes(e,{tdIsEditing:!0,start:!0},{at:t})},clearTd:function(e){d.a.withoutNormalizing(e,(function(){var t,n=U.getSelectedTds(e),i=Object(x.a)(n);try{for(i.s();!(t=i.n()).done;){var o=Object(s.a)(t.value,2),a=o[0],c=o[1];if(!(1===a.children.length&&""===d.a.string(e,c,{voids:!0}))){var l=E.a.assign({},a,{children:[{type:r.DIV,children:[{text:""}]}]});d.i.removeNodes(e,{at:c}),d.i.insertNodes(e,E.a.cloneDeep(l),{at:c})}}}catch(u){i.e(u)}finally{i.f()}W.deselectAllTd(e)}))}},H=n(224),V=function(e){var t=e.attributes,n=e.children,i=e.element,o=Object(u.useRef)({isBeginSelectTd:!1,mouseDownStartPoint:null,initX:0,initY:0,lastSelectedPaths:[],preMouseOnTdPath:null,prePath:null}),a=Object(u.useContext)(Pn),s=a.savedMarks,b=a.setSavedMarks,j=Object(f.g)(),v=Object(f.d)(),p=Object(u.useCallback)((function(){var e=t.ref.current;if(e){var n=e,r=(null===e||void 0===e?void 0:e.offsetWidth)-2,o=i.wrapperWidthWhenCreated;if(n&&null!=r&&null!=o&&o!=r){var a=f.b.toSlateNode(j,e);if(!a)return;var c=f.b.findPath(j,a);if(!c)return;Array.from(n.querySelectorAll(":scope>tbody>tr")).forEach((function(e,t){Array.from(e.querySelectorAll(":scope>td")).forEach((function(e,n){var i=f.b.toSlateNode(j,e);if(d.b.isElement(i)){var a=(i.width||k)/o*r;d.i.setNodes(j,{width:a},{at:[].concat(Object(l.a)(c),[0,t,n])})}}))})),d.i.setNodes(j,{wrapperWidthWhenCreated:r},{at:c})}}}),[t.ref,j,i.wrapperWidthWhenCreated]);Object(u.useEffect)((function(){var e=new ResizeObserver((function(e){window.requestAnimationFrame((function(){Array.isArray(e)&&e.length&&p()}))})),t=document.querySelector(".".concat(T));return t&&e.observe(t),function(){t&&e.unobserve(t)}}),[p]),Object(u.useEffect)((function(){var e=f.b.findPath(j,i);null==o.current.prePath||d.e.equals(e,o.current.prePath)||U.resetSelectedTds(j),o.current.prePath=e}));var O=E.a.throttle((function(e,t){var n=d.c.common(j,e.path,t.path);if(n){var i=d.a.above(j,{at:t,mode:"lowest",match:function(e){return U.isTd(e)}});if(i){var a=o.current.preMouseOnTdPath;if(!a||!d.e.equals(a,i[1]))if(o.current.preMouseOnTdPath=i[1],d.a.above(j,{at:e,mode:"lowest",match:function(e){return U.isTd(e)}})){if(o.current.lastSelectedPaths.forEach((function(e){var t=d.a.node(j,e);t&&d.b.isElement(t[0])&&1==t[0].start&&d.i.unsetNodes(j,["start"],{at:e})})),!d.b.isElement(n[0])||n[0].type!=r.TBODY&&n[0].type!=r.TR)return o.current.lastSelectedPaths.forEach((function(e){d.i.unsetNodes(j,["selected","start"],{at:e})})),void(o.current.lastSelectedPaths=[]);var c=d.a.above(j,{at:e,mode:"highest",match:function(e,t){return U.isTd(e)&&t.length>n[1].length}});if(c){d.i.setNodes(j,{start:!0,selected:!0},{at:c[1]});var s=d.a.above(j,{at:t,mode:"highest",match:function(e,t){return U.isTd(e)&&t.length>n[1].length}});if(s){d.i.setNodes(j,{start:!0,selected:!0},{at:s[1]});var u=d.a.above(j,{at:c[1],mode:"lowest",match:function(e){return d.b.isElement(e)&&e.type==r.TBODY}});if(u&&d.b.isElement(u[0])){var f=W.getSelectedTdInTdMap(u);if(null!=f){var b,h=Array.from(f.keys()).map((function(e){return[].concat(Object(l.a)(u[1]),[e.originRow,e.originCol])})),v=function(e,t){var n=new Set(e.map((function(e){return e.slice(e.length-2).join(",")}))),r=new Set(t.map((function(e){return e.slice(e.length-2).join(",")})));return{deselectedPath:t.filter((function(e){return!n.has(e.slice(e.length-2).join(","))})),newSelectedPath:e.filter((function(e){return!r.has(e.slice(e.length-2).join(","))}))}}(h,o.current.lastSelectedPaths),p=v.deselectedPath,O=v.newSelectedPath,m=Object(x.a)(O);try{for(m.s();!(b=m.n()).done;){var g=b.value;d.i.setNodes(j,{selected:!0},{at:g})}}catch(E){m.e(E)}finally{m.f()}var y,T=Object(x.a)(p);try{for(T.s();!(y=T.n()).done;){var w=y.value;d.i.unsetNodes(j,["selected","start"],{at:w})}}catch(E){T.e(E)}finally{T.f()}o.current.lastSelectedPaths=h,d.i.deselect(j)}}}}}}}}),20);return Object(F.jsx)("table",Object(c.a)(Object(c.a)({},t),{},{style:Object(c.a)({display:"block",tableLayout:"auto",wordBreak:"break-all",overflowX:"auto",overflowY:"hidden",borderCollapse:"collapse",position:"relative"},i.tdAutoWidth?{width:"100%"}:{}),onMouseDown:function(e){try{W.deselectAllTd(j);var t=f.b.toSlateNode(j,e.target),n=f.b.findPath(j,t);o.current.initX=e.clientX,o.current.initY=e.clientY,o.current.preMouseOnTdPath=null,o.current.lastSelectedPaths=[];var r=e.nativeEvent.path.find((function(e){return"TD"==e.tagName}));if(!r)return;var i=f.b.findPath(j,f.b.toSlateNode(j,r));if(W.setTdIsEditing(j,i),!v&&!["resizer","columnSelector"].includes(e.target.className)){o.current.isBeginSelectTd=!0,o.current.preMouseOnTdPath=o.current.mouseDownStartPoint=n,o.current.lastSelectedPaths=U.getSelectedTdsPath(j);var a=function(e){try{if(["resizer","columnSelector"].includes(e.target.className))N.removeAllRange(),e.preventDefault();else N.findParent(e.target,r)!=r&&(N.removeAllRange(),e.preventDefault());var t=f.b.toDOMNode(j,j);if(o.current.isBeginSelectTd&&t.contains(e.target)&&(Math.abs(e.clientX-o.current.initX)>1||Math.abs(e.clientY-o.current.initY)>1)){var n=f.b.toSlateNode(j,e.target),i=f.b.findPath(j,n);O(d.a.point(j,o.current.mouseDownStartPoint),d.a.point(j,i))}}catch(a){console.error(a)}};window.addEventListener("mousemove",a),window.addEventListener("mouseup",(function e(t){o.current.isBeginSelectTd=!1,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",e)}))}}catch(c){}},onMouseUp:function(){if(s){for(var e={},t=U.getSelectedTdsSize(j),n=0,r=Object.values(h);n<r.length;n++){var i=r[n];e[i]=s[i]}if(t>0){var o,a=U.getSelectedTdsPath(j),c=Object(x.a)(a);try{for(c.s();!(o=c.n()).done;){var l=o.value;d.i.setNodes(j,e,{at:l})}}catch(u){c.e(u)}finally{c.f()}return void b(null)}}},children:n}))},Y=function(e){var t,n=U.getFirstSelectedTd(e);return n?t=d.a.above(e,{mode:"lowest",at:n[1],match:function(e){return U.isTable(e)}}):e.selection&&(t=d.a.above(e,{mode:"lowest",match:function(e){return U.isTable(e)}})),t},U={model:[{type:r.TABLE,children:[{type:r.TBODY,children:new Array(100).fill(0).map((function(e,t){return{type:r.TR,children:new Array(10).fill(0).map((function(e,n){return{type:r.TD,width:100,height:50,children:[{type:r.DIV,children:[{text:"string".concat(t,"-").concat(n)}]}]}}))}}))}]},{type:r.DIV,children:[{text:"1"}]}],isSelectedTd:function(e){return U.isTd(e)&&1==e.selected},isTable:function(e){return d.b.isElement(e)&&r.TABLE==e.type},isTd:function(e){return d.b.isElement(e)&&[r.TD].includes(e.type)},isInTable:function(e){if(!e.selection)return!1;var t=e.selection,n=t.focus.path,r=t.anchor.path,i=d.a.above(e,{at:n,match:function(e){return U.isTable(e)}});return!!i||!!(i=d.a.above(e,{at:r,match:function(e){return U.isTable(e)}}))},isInTd:function(e){return!(!e.selection||!d.g.isCollapsed(e.selection))&&N.getFirstAboveElementType(e)==r.TD},normalizeTable:function(e,t){var n=Object(s.a)(t,2),i=n[0],o=n[1];if(d.b.isElement(i)&&[r.TABLE].includes(i.type)){var a,c=Object(x.a)(d.c.children(e,o,{reverse:!0}));try{for(c.s();!(a=c.n()).done;){var u=Object(s.a)(a.value,2),f=u[0],b=u[1];if(f.type!=r.TBODY)return void d.i.removeNodes(e,{at:b})}}catch(F){c.e(F)}finally{c.f()}}if(d.b.isElement(i)&&[r.TBODY].includes(i.type)){var h=N.getParent(e,o),j=Object(s.a)(h,1)[0];if(!d.b.isElement(j)||j.type!=r.TABLE)return d.i.removeNodes(e,{at:o}),!0;var v,p=Object(x.a)(d.c.children(e,o,{reverse:!0}));try{for(p.s();!(v=p.n()).done;){var O=Object(s.a)(v.value,2),m=O[0],g=O[1];if(m.type!=r.TR)return void d.i.removeNodes(e,{at:g})}}catch(F){p.e(F)}finally{p.f()}}if(d.b.isElement(i)&&r.TR==i.type){var y=N.getParent(e,o),T=Object(s.a)(y,1)[0];if(!d.b.isElement(T)||![r.TBODY].includes(T.type))return d.i.removeNodes(e,{at:o}),!0;var w,E=Object(x.a)(d.c.children(e,o,{reverse:!0}));try{for(E.s();!(w=E.n()).done;){var S=Object(s.a)(w.value,2),C=S[0],I=S[1];if(!i.shouldEmpty&&C.type!=r.TD)return void d.i.removeNodes(e,{at:I})}}catch(F){E.e(F)}finally{E.f()}if(0===i.children.length)return d.i.insertNodes(e,{text:""},{at:[].concat(Object(l.a)(o),[0])}),d.i.setNodes(e,{shouldEmpty:!0},{at:o}),!0;if(1==i.children.length&&d.c.child(i,0).type!=r.TD)return d.i.setNodes(e,{shouldEmpty:!0},{at:o}),!0;if(i.children.length>1){var L,D=Object(x.a)(d.c.children(e,o,{reverse:!0}));try{for(D.s();!(L=D.n()).done;){var B=Object(s.a)(L.value,2),A=B[0],R=B[1];if(d.h.isText(A))return d.i.removeNodes(e,{at:R}),!0}}catch(F){D.e(F)}finally{D.f()}}return d.i.setNodes(e,{shouldEmpty:!1},{at:o}),!0}if(d.b.isElement(i)&&r.TD==i.type){var M=N.getParent(e,o),P=Object(s.a)(M,1)[0];if(!d.b.isElement(P)||![r.TR].includes(P.type))return d.i.removeNodes(e,{at:o}),!0;if(1==i.children.length&&d.h.isText(d.c.child(i,0))&&""==d.a.string(e,o,{voids:!0}))return d.i.wrapNodes(e,{type:r.DIV,children:[{text:""}]},{at:[].concat(Object(l.a)(o),[0])}),!0}},tabEvent:function(e){var t=U.getEditingTd(e);t&&W.findTargetTd(e,t,"right",!0)},shiftTabEvent:function(e){var t=U.getEditingTd(e);t&&(d.i.deselect(e),W.findTargetTd(e,t,"left",!0))},deleteRow:function(e){var t,n=[1/0,-1/0],i=U.getFirstSelectedTd(e)||U.getEditingTd(e);if(i){var o=d.a.above(e,{at:i[1],match:function(e){return d.b.isElement(e)&&e.type==r.TBODY}});if(o){var a=W.getTdMap(o).tdMap;if(a){var c=Array.from((null===(t=W.getSelectedTdInTdMap(o))||void 0===t?void 0:t.keys())||[]);if(0!=c.length)if(c.forEach((function(e){n[0]=Math.min(n[0],e.row),n[1]=Math.max(n[1],e.row+e.rowSpan)})),n[1]-n[0]!=a.length){for(var s=[],u=n[0];u<n[1];u++){s.unshift([].concat(Object(l.a)(o[1]),[u]));for(var f=0;f<a[u].length;f++){var b=a[u][f];b.rowSpan--;var h=[].concat(Object(l.a)(o[1]),[b.originRow,b.originCol]);0!=b.rowSpan&&d.i.setNodes(e,{rowSpan:b.rowSpan},{at:h}),f+=b.colSpan-1}}for(var j=n[0];j<n[1];j++)for(var v=0;v<a[j].length;v++){var p=a[j][v];if(p.rowSpan>0&&p.row>=n[0]&&p.row==j&&p.col==v){var O=n[1],m=a[O][p.col-1];m?d.i.moveNodes(e,{at:[].concat(Object(l.a)(o[1]),[p.originRow,p.originCol]),to:[].concat(Object(l.a)(o[1]),[O,m.originCol+1])}):d.i.moveNodes(e,{at:[].concat(Object(l.a)(o[1]),[p.originRow,p.originCol]),to:[].concat(Object(l.a)(o[1]),[O,0])})}v+=p.colSpan-1}s.forEach((function(t){d.i.removeNodes(e,{at:t})})),U.resetSelectedTds(e)}else d.i.removeNodes(e,{at:d.e.parent(o[1])})}}}},deleteColumn:function(e){var t,n=[1/0,-1/0],i=U.getFirstSelectedTd(e)||U.getEditingTd(e);if(i){var o=d.a.above(e,{at:i[1],match:function(e){return d.b.isElement(e)&&e.type==r.TBODY}});if(o){var a=W.getTdMap(o).tdMap;if(a){var c=Array.from((null===(t=W.getSelectedTdInTdMap(o))||void 0===t?void 0:t.keys())||[]);if(0!=c.length)if(c.forEach((function(e){n[0]=Math.min(n[0],e.col),n[1]=Math.max(n[1],e.col+e.colSpan)})),n[1]-n[0]!=a[0].length){for(var s=[],u=n[0];u<n[1];u++)for(var f=0;f<a.length;f++){var b=a[f][u];b.colSpan--;var h=[].concat(Object(l.a)(o[1]),[b.originRow,b.originCol]);0==b.colSpan?s.push(h):d.i.setNodes(e,{colSpan:b.colSpan},{at:h}),f+=b.rowSpan-1}s.sort((function(e,t){var n=e[e.length-2],r=t[t.length-2],i=e[e.length-1],o=t[t.length-1];return n>r?-1:n==r?o-i:1})),s.forEach((function(t){d.i.removeNodes(e,{at:t})})),U.resetSelectedTds(e)}else d.i.removeNodes(e,{at:d.e.parent(o[1])})}}}},insertColumn:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=U.getFirstSelectedTd(e)||U.getEditingTd(e);if(i){var o=d.a.parent(e,i[1]);if(o){var a=d.a.parent(e,o[1]);if(a){var c=W.getTdMap(a),u=c.tdMap,f=W.getSelectedTdInTdMap(a);if(d.b.isElement(i[0])&&d.b.isElement(i[0])&&d.b.isElement(a[0])){var b,h=function(){return E.a.cloneDeep(new Array(n).fill(0).map((function(){return E.a.cloneDeep({type:r.TD,height:_,children:[{type:r.DIV,children:[{text:""}]}]})})))},j=i[1].slice(i[1].length-2),v=Object(s.a)(j,2),p=v[0],O=v[1];if(f&&f.size>0){b="after"==t?-1/0:1/0;var m,g=Object(x.a)(f.keys());try{for(g.s();!(m=g.n()).done;){var y=m.value;b="after"==t?Math.max(b,y.col+y.colSpan):Math.min(b,y.col)}}catch(A){g.e(A)}finally{g.f()}}else{b=-1;for(var T=0;T<u[p].length;T++){var w=u[p][T];if(w.originCol==O&&w.originRow==p){b=w.col+("after"==t?w.colSpan:0);break}}}if(null!=b&&Number.isFinite(b)){for(var S=0;S<u.length;S++){var N=u[S][b];if(N){var C=[].concat(Object(l.a)(a[1]),[N.originRow,N.originCol]);N.col==b?d.i.insertNodes(e,h(),{at:[].concat(Object(l.a)(a[1]),[S,N.originCol])}):(d.i.setNodes(e,{colSpan:N.colSpan+1},{at:C}),S+=N.rowSpan-1)}else{var I,L,D,B;d.i.insertNodes(e,h(),{at:[].concat(Object(l.a)(a[1]),[S,(null===(I=a[0])||void 0===I||null===(L=I.children)||void 0===L||null===(D=L[S])||void 0===D||null===(B=D.children)||void 0===B?void 0:B.length)||0])})}}U.resetSelectedTds(e)}}}}}},insertRow:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=U.getFirstSelectedTd(e)||U.getEditingTd(e);if(i){var o=d.a.parent(e,i[1]);if(o){var a=d.a.parent(e,o[1]);if(a){var c=W.getTdMap(a),u=c.tdMap,f=W.getSelectedTdInTdMap(a);if(d.b.isElement(i[0])&&d.b.isElement(i[0])&&d.b.isElement(a[0])){var b,h={type:r.TD,height:_,children:[{type:r.DIV,children:[{text:""}]}]},j=i[1].slice(i[1].length-2),v=Object(s.a)(j,2),p=v[0],O=v[1];if(f&&f.size>0){b="after"==t?-1/0:1/0;var m,g=Object(x.a)(f.keys());try{for(g.s();!(m=g.n()).done;){var y=m.value;b="after"==t?Math.max(b,y.row+y.rowSpan):Math.min(b,y.row)}}catch(L){g.e(L)}finally{g.f()}}else{b=-1;for(var T=0;T<u[p].length;T++){var w=u[p][T];if(w.originCol==O&&w.originRow==p){b=w.row+("after"==t?w.rowSpan:0);break}}}if(-1!=b&&Number.isFinite(b)){var S=function(e){return new Array(n).fill(0).map((function(){return E.a.cloneDeep({type:r.TR,children:new Array(e).fill(0).map((function(){return E.a.cloneDeep(h)}))})}))};if(null!=u[b]){for(var N=0,C=0;C<u[b].length;C++){var I=u[b][C];I.row==b?N++:(d.i.setNodes(e,{rowSpan:I.rowSpan+1},{at:[].concat(Object(l.a)(a[1]),[I.originRow,I.originCol])}),C+=I.colSpan-1)}d.i.insertNodes(e,S(N),{at:[].concat(Object(l.a)(a[1]),[b])}),U.resetSelectedTds(e)}else d.i.insertNodes(e,S(u[0].length),{at:[].concat(Object(l.a)(a[1]),[b])})}}}}}},splitTd:function(e){var t=U.getSelectedTds(e);0===t.length&&(t=[U.getEditingTd(e)]),t&&((t=t.filter((function(e){return d.b.isElement(e[0])&&((e[0].colSpan||1)>1||(e[0].rowSpan||1)>1)}))).sort((function(e,t){return d.e.compare(t[1],e[1])})),d.a.withoutNormalizing(e,(function(){W.deselectAllTd(e);var n,i=null,o=Object(x.a)(t);try{var a=function(){var t=Object(s.a)(n.value,2),o=t[0],a=t[1];if(!d.b.isElement(o))return"continue";if(d.i.setNodes(e,{colSpan:1,rowSpan:1},{at:a}),d.i.unsetNodes(e,["selected","start","tdIsEditing"],{at:a}),!i&&!(i=d.a.above(e,{at:a,mode:"lowest",match:function(e){return d.b.isElement(e)&&e.type==r.TBODY}})))return"continue";for(var c=d.a.parent(e,a),u=a[a.length-1],f=a[a.length-2],b=o.colSpan||1,h=o.rowSpan||1,j=0,v=0;v<u;v++){var p,O,m;j+=(null===(p=c[0])||void 0===p||null===(O=p.children)||void 0===O||null===(m=O[v])||void 0===m?void 0:m.colSpan)||1}for(var g=function(e){for(var t=0,n=0;n<e[0].children.length;n++)if((t+=e[0].children[n].colSpan||1)==j)return n+1;return 0},y=f,T=0;T<h;T++,y++){var x=y==f,w=g(d.a.node(e,[].concat(Object(l.a)(i[1]),[y]))),S=b-(x?1:0);d.i.insertNodes(e,new Array(S).fill(0).map((function(){return E.a.cloneDeep({type:r.TD,children:[{type:r.DIV,children:[{text:""}]}]})})),{at:[].concat(Object(l.a)(i[1]),[y,w+(x?1:0)])})}};for(o.s();!(n=o.n()).done;)a()}catch(c){o.e(c)}finally{o.f()}})))},mergeTd:function(e){var t=1==U.getSelectedTdsSize(e),n=U.getFirstSelectedTd(e);if(n&&null!=t){var i=d.a.above(e,{at:n[1],mode:"lowest",match:function(e){return d.b.isElement(e)&&e.type==r.TBODY}});if(i){var o=W.getSelectedTdInTdMap(i);if(o){var a=i[1],c=Array.from(null===o||void 0===o?void 0:o.keys());c.sort((function(e,t){return e.row>t.row?1:e.row==t.row?e.col-t.col:-1}));var s=c[0],u=0,f=0;c.forEach((function(e){u=Math.max(u,e.colSpan+e.col-s.col),f=Math.max(f,e.rowSpan+e.row-s.row)}));var b=[].concat(Object(l.a)(a),[s.originRow,s.originCol]);d.i.setNodes(e,{colSpan:u,rowSpan:f},{at:b});var h=[],j=[];c.forEach((function(t,n){var r=[].concat(Object(l.a)(a),[t.originRow,t.originCol]);h.unshift(r),""!==d.a.string(e,r,{voids:!0})&&j.push.apply(j,Object(l.a)(t.children))}));var v=E.a.cloneDeep(E.a.merge({},d.a.node(e,b)[0],{toBeDeleted:null,children:j}));d.a.withoutNormalizing(e,(function(){h.forEach((function(t){d.i.removeNodes(e,{at:t})})),d.i.insertNodes(e,v,{at:b})})),U.resetSelectedTds(e)}}}},deleteTable:function(e){var t=Y(e);t&&(d.i.removeNodes(e,{at:t[1]}),U.resetSelectedTds(e))},copyTable:function(e){var t,n=Y(e);if(n){W.deselectAllTd(e);var r=E.a.cloneDeep(null===(t=d.a.node(e,n[1]))||void 0===t?void 0:t[0]);r&&d.i.insertNodes(e,r,{at:d.e.next(n[1])})}},getSelectedTdsPath:function(e){var t,n=B(e),r=[],i=Object(x.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value.split(",").map((function(e){return+e}));r.push(o)}}catch(a){i.e(a)}finally{i.f()}return r},getSelectedTds:function(e){var t,n=B(e),r=[],i=Object(x.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value.split(",").map((function(e){return+e})),a=d.a.node(e,o);r.push(a)}}catch(c){i.e(c)}finally{i.f()}return r},getFirstSelectedTd:function(e){var t=B(e),n=Array.from(t).sort((function(e,t){return e>t?1:e===t?0:-1}));if(0==n.length)return null;var r=n[0].split(",").map((function(e){return+e}));return d.a.node(e,r)},getEditingTd:function(e){var t=d.a.nodes(e,{match:function(e){return U.isTd(e)},mode:"lowest"});return Object(s.a)(t,1)[0]},getEditingTdsPath:function(e){return M(e)},getSelectedTdsSize:function(e){return B(e).size},resetSelectedTds:function(e){var t=Array.from(d.a.nodes(e,{at:[],match:function(e){return U.isSelectedTd(e)}})).map((function(e){return e[1].join(",")}));A(new Set(t));var n=Array.from(d.a.nodes(e,{at:[],match:function(e){return U.isTd(e)&&1==e.start}})).map((function(e){return e[1].join(",")}));P(new Set(n))},copyCells:function(e){var t,n=U.getSelectedTds(e);I(n.sort((function(e,t){var n=e[1].slice(e[1].length-2),r=Object(s.a)(n,2),i=r[0],o=r[1],a=t[1].slice(t[1].length-2),c=Object(s.a)(a,2),l=c[0],u=c[1];return i>l?1:i===l?o-u:-1})));var i=d.a.above(e,{at:n[0][1],mode:"lowest",match:function(e){return d.b.isElement(e)&&e.type===r.TBODY}});if(i){var o=Array.from((null===(t=W.getSelectedTdInTdMap(i))||void 0===t?void 0:t.keys())||[]),a=W.getTdMap(i).startPoins,c=0,l=0;o.forEach((function(e){var t=e.row,n=e.col;c=Math.max(n+(e.colSpan||1)-a[0].col,c),l=Math.max(t+(e.rowSpan||1)-a[0].row,l)})),D({copyedAreaWidth:c,copyedAreaHeight:l})}},isSelectTableAllTd:function(e){var t=U.getSelectedTds(e);if(t.length<=0)return!1;var n=t[0],i=d.a.nodes(e,{at:n[1],match:function(e){return U.isTable(e)}}),o=Object(s.a)(i,1)[0];return!!o&&Array.from(d.c.descendants(o[0])).filter((function(e){return e[0].type===r.TD})).length===t.length},pasteCells:function(e){var t=C.copyedContent,n=L();if(!t||n){if(n){var i={copyedAreaHeight:C.copyedAreaHeight,copyedAreaWidth:C.copyedAreaWidth},o=i.copyedAreaWidth,a=i.copyedAreaHeight,u=Array.from(U.getSelectedTds(e)),f=d.a.above(e,{at:u[0][1],mode:"lowest",match:function(e){return d.b.isElement(e)&&e.type===r.TBODY}});if(f)if(1!=n.length){var b=W.getTdMap(f),h=b.tdMap,j=b.startPoins[0];if(j.row+a>h.length||j.col+o>h[0].length)return H.b.error("\u65e0\u6cd5\u5b8c\u6574\u8986\u76d6\u76ee\u6807\u533a\u57df"),!1;for(var v=[],p=j.row;p<h.length&&p<j.row+a;p++)for(var O=j.col;O<h[0].length&&O<j.col+o;O++){var m=h[p][O];if(v.unshift([m.originRow,m.originCol]),m.col<j.col||m.col+m.colSpan>j.col+o||m.row<j.row||m.row+m.rowSpan>j.row+a)return H.b.error("\u65e0\u6cd5\u5b8c\u6574\u8986\u76d6\u76ee\u6807\u533a\u57df"),!1}E.a.uniqWith(v,(function(e,t){return e.join(",")===t.join(",")})).forEach((function(t){d.i.removeNodes(e,{at:[].concat(Object(l.a)(f[1]),Object(l.a)(t))})}));for(var g=n.slice().reduce((function(e,t){return Math.min(e,t[1][t[1].length-2])}),1/0),y=function(t,r){var i=h[r][j.col],o=[];n.forEach((function(e){var n=e[1];n[n.length-2]===t&&o.push(Object(c.a)(Object(c.a)({},e[0]),{},{selected:!1,start:!1}))})),o.length>0&&d.i.insertNodes(e,E.a.cloneDeep(o),{at:[].concat(Object(l.a)(f[1]),[r,i.originCol])})},T=j.row,w=g;T<j.row+a;T++,w++)y(w,T);W.deselectAllTd(e),U.resetSelectedTds(e)}else{var S=n[n.length-1];if(!S)return;u.forEach((function(t){var n=t[0].children.length;d.i.insertNodes(e,E.a.cloneDeep(S[0].children),{at:[].concat(Object(l.a)(t[1]),[0])});var r,i=Object(x.a)(d.c.children(e,t[1],{reverse:!0}));try{for(i.s();!(r=i.n()).done;){var o=Object(s.a)(r.value,2)[1];if(0==n--)break;d.i.removeNodes(e,{at:o})}}catch(a){i.e(a)}finally{i.f()}}))}}}else{var I=Array.from(U.getSelectedTdsPath(e));W.clearTd(e);for(var D=0,B=I;D<B.length;D++){var A=B[D];d.i.insertNodes(e,E.a.cloneDeep(N.filterCopyedContent(t)),{at:[].concat(Object(l.a)(A),[0])}),d.i.removeNodes(e,{at:[].concat(Object(l.a)(A),[Array.from(d.c.children(e,A)).length-1])})}}}},G=n(395),X=n(94),q=n(58),K=n(229),J=n(230),Z=(n(244),n(394)),$={toggleList:function(e,t){var n=d.a.nodes(e,{mode:"lowest",match:function(t){return d.h.isText(t)||d.a.isInline(e,t)}}),i=Object(s.a)(n,1)[0];if(i){var o=d.a.parent(e,i[1]);if(o){var a=d.a.parent(e,o[1]),c=$.isListItem(a[0])&&a,l=c&&N.getParent(e,c[1]),u=c&&l&&d.b.isElement(l[0])&&(null===l||void 0===l?void 0:l[0].type)==t,f=c&&!u,b=!c;c&&u?d.i.unwrapNodes(e,{match:function(e){return $.isListItem(e)}}):f?d.a.withoutNormalizing(e,(function(){var n,r=new Set,i=d.a.nodes(e,{mode:"lowest",match:function(e){return $.isListItem(e)}}),o=Object(x.a)(i);try{for(o.s();!(n=o.n()).done;){var a=Object(s.a)(n.value,2)[1],c=N.getParent(e,a);null!=c[0]&&r.add(c[1].join("-"))}}catch(l){o.e(l)}finally{o.f()}r.forEach((function(n){var r=n.split("-").map((function(e){return+e}));d.i.setNodes(e,{type:t},{at:r,hanging:!0})}))})):b&&d.a.withoutNormalizing(e,(function(){for(var n=0,i=Array.from(d.a.nodes(e,{reverse:!0,mode:"lowest",match:function(e){return N.isTextWrapper(e)}}));n<i.length;n++){var o=Object(s.a)(i[n],2)[1];if(0!=o.length){var a=N.getParent(e,o),c=Object(s.a)(a,1)[0];$.isListItem(c)||(d.i.wrapNodes(e,{type:r.LIST_ITEM,children:[]},{at:o}),$.isOrderList(c)||d.i.wrapNodes(e,{type:t,children:[]},{at:o}))}}}))}}},isInLi:function(e){if(e.selection&&d.g.isCollapsed(e.selection))return N.getFirstAboveElementType(e)==r.LIST_ITEM;if(!e.selection)return!1;var t=e.selection,n=t.focus.path,i=t.anchor.path,o=d.a.above(e,{at:n,match:function(e){return $.isListItem(e)}});return!!o||!!(o=d.a.above(e,{at:i,match:function(e){return $.isListItem(e)}}))},isInList:function(e){if(!e.selection)return!1;var t=e.selection,n=t.focus.path,r=t.anchor.path,i=d.a.above(e,{at:n,match:function(e){return $.isListItem(e)}});return!!i||!!(i=d.a.above(e,{at:r,match:function(e){return $.isListItem(e)}}))},isListItem:function(e){return d.b.isElement(e)&&[r.LIST_ITEM].includes(e.type)},isOrderList:function(e){return d.b.isElement(e)&&[r.NUMBER_LIST,r.NORMAL_LIST].includes(e.type)},normalizeList:function(e,t){var n=Object(s.a)(t,2),i=n[0],o=n[1];if($.isListItem(i)){var c;if(i.children.length>1)return d.a.withoutNormalizing(e,(function(){var t=[].concat(Object(l.a)(o),[1]),n=Array.from(d.a.nodes(e,{at:t,match:function(t){return d.h.isText(t)||d.a.isInline(e,t)}}));d.i.wrapNodes(e,{type:r.LIST_ITEM,children:[]},{at:t}),d.i.removeNodes(e,{at:[].concat(Object(l.a)(t),[0])}),d.i.insertNodes(e,{type:r.DIV,children:n.map((function(e){return e[0]}))},{at:[].concat(Object(l.a)(t),[0])}),d.i.liftNodes(e,{at:t}),d.i.select(e,d.a.start(e,d.e.next(o)))})),!0;if(!$.isOrderList(null===(c=d.a.parent(e,o))||void 0===c?void 0:c[0]))return d.a.withoutNormalizing(e,(function(){d.i.unwrapNodes(e,{at:o}),d.i.select(e,d.a.start(e,o))})),!0;var u,f=Object(x.a)(d.c.children(e,t[1],{reverse:!0}));try{var b=function(){var t=Object(s.a)(u.value,2),n=t[0],i=t[1];return $.isOrderList(n)?(d.i.liftNodes(e,{at:i}),{v:!0}):N.isTextWrapper(n)?void 0:(d.a.withoutNormalizing(e,(function(){var t=Array.from(d.a.nodes(e,{at:d.a.range(e,i),match:function(t){return d.h.isText(t)||d.a.isInline(e,t)}}));d.i.wrapNodes(e,{type:r.DIV,children:[]},{at:i}),d.i.removeNodes(e,{at:[].concat(Object(l.a)(i),[0])}),d.i.insertNodes(e,t.map((function(e){return e[0]})),{at:[].concat(Object(l.a)(i),[0])})})),{v:!0})};for(f.s();!(u=f.n()).done;){var j=b();if("object"===typeof j)return j.v}}catch(z){f.e(z)}finally{f.f()}var v,p=new Set,O=Object(x.a)(d.c.texts(i));try{for(O.s();!(v=O.n()).done;){var m=Object(s.a)(v.value,1)[0];p.add(m[h.Color])}}catch(z){O.e(z)}finally{O.f()}if(1==p.size){var g=Array.from(p).pop();return void(g&&d.i.setNodes(e,Object(a.a)({},h.Color,g),{at:o}))}}if($.isOrderList(i)){var y=N.getPath(o,"pre"),T=N.getNodeByPath(e,y),w=Object(s.a)(T,1)[0];if($.isOrderList(w)&&w.type!=i.type)return d.i.setNodes(e,{type:i.type},{at:y}),!0;if($.isOrderList(w)&&w.type==i.type)return d.i.mergeNodes(e,{at:o}),!0;var E=N.getPath(o,"next"),S=N.getNodeByPath(e,E),C=Object(s.a)(S,1)[0];if($.isOrderList(C)&&C.type!=i.type)return d.i.setNodes(e,{type:C.type},{at:E}),!0;if($.isOrderList(C)&&C.type==i.type)return d.i.mergeNodes(e,{at:E}),!0;if(1==i.children.length){var I=d.c.first(i,[0]),L=Object(s.a)(I,1)[0];if($.isOrderList(L)&&L.type!=i.type)return d.i.setNodes(e,{type:L.type},{at:o}),!0}var D,B=Object(x.a)(d.c.children(e,o,{reverse:!0}));try{for(B.s();!(D=B.n()).done;){var A=Object(s.a)(D.value,2),R=A[0],M=A[1];if(!$.isListItem(R)&&!$.isOrderList(R))return d.i.liftNodes(e,{at:M}),!0}}catch(z){B.e(z)}finally{B.f()}var P,F=0,k=Object(x.a)(d.c.children(e,o,{reverse:!0}));try{for(k.s();!(P=k.n()).done;){var _=Object(s.a)(P.value,1)[0];($.isOrderList(_)||$.isListItem(_))&&F++}}catch(z){k.e(z)}finally{k.f()}if(0==F)return d.i.removeNodes(e,{at:o}),!0}return!1},tabEvent:function(e){d.a.withoutNormalizing(e,(function(){var t,n=d.a.nodes(e,{universal:!0,mode:"lowest",match:function(e){return $.isListItem(e)}}),r=Object(x.a)(n);try{for(r.s();!(t=r.n()).done;){var i=Object(s.a)(t.value,2),o=i[0],a=i[1];$.indentLi(e,[o,a])}}catch(c){r.e(c)}finally{r.f()}}))},indentLi:function(e,t){d.a.withoutNormalizing(e,(function(){var n=Object(s.a)(t,1)[0],r=f.b.findPath(e,n),i=N.getNodeByPath(e,N.getPath(r,"next")),o=N.getParent(e,r);i.length>0&&$.isOrderList(null===i||void 0===i?void 0:i[0])?d.i.wrapNodes(e,{type:i[0].type,children:[]},{at:r}):o.length>0&&$.isOrderList(null===o||void 0===o?void 0:o[0])&&d.i.wrapNodes(e,{type:o[0].type,children:[]},{at:r})}))},shiftTabEvent:function(e){d.a.withoutNormalizing(e,(function(){var t,n=d.a.nodes(e,{universal:!0,reverse:!0,mode:"lowest",match:function(e){return $.isListItem(e)}}),r=Object(x.a)(n);try{for(r.s();!(t=r.n()).done;){var i=Object(s.a)(t.value,2),o=i[0],a=i[1];$.liftLi(e,[o,a])}}catch(c){r.e(c)}finally{r.f()}}))},liftLi:function(e,t){var n=Object(s.a)(t,2)[1],r=N.getParent(e,n),i=Object(s.a)(r,2),o=i[0],a=i[1],c=o&&N.getParent(e,a),l=Object(s.a)(c,1)[0];$.isOrderList(l)&&d.i.liftNodes(e,{at:n})}},Q=n(403),ee=function(e){var t=e.attributes,n=e.children,r=e.element,i=Object(f.g)(),o=Object(f.d)(),a=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{contentEditable:!1,style:{marginRight:4},children:Object(F.jsx)(Q.a,{checked:r.checked,onChange:function(e){d.i.setNodes(i,{checked:e.target.checked},{at:f.b.findPath(i,r)})},disabled:o})}),Object(F.jsx)("span",{children:n})]})};return function(){var e=Object(c.a)(Object(c.a)({},t),{},{style:Object(c.a)({},N.getTextAlignStyle(r.textAlign))});switch(r.childrenWrapper||"div"){case"div":return Object(F.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{children:a()}));case"h1":return Object(F.jsx)("h1",Object(c.a)(Object(c.a)({},e),{},{children:a()}));case"h2":return Object(F.jsx)("h2",Object(c.a)(Object(c.a)({},e),{},{children:a()}));case"h3":return Object(F.jsx)("h3",Object(c.a)(Object(c.a)({},e),{},{children:a()}));case"h4":return Object(F.jsx)("h4",Object(c.a)(Object(c.a)({},e),{},{children:a()}))}}()},te={isTodoList:function(e){return d.b.isElement(e)&&e.type===r.TODOLIST},isInToDoList:function(e){return null!=te.getToDoList(e)},getToDoList:function(e){return d.a.above(e,{match:function(e){return d.b.isElement(e)&&e.type===r.TODOLIST}})},normalizeToDoList:function(e,t){if(d.b.isElement(t[0])&&t[0].type===r.TODOLIST){var n,i=Object(x.a)(d.c.descendants(t[0],{reverse:!0}));try{var o=function(){var r=Object(s.a)(n.value,2),i=r[0],o=r[1];if(!d.h.isText(i)&&!d.a.isInline(e,i))return d.a.withoutNormalizing(e,(function(){var n=Array.from(d.a.nodes(e,{at:d.a.range(e,o),match:function(t){return d.h.isText(t)||d.a.isInline(e,t)}}));d.i.removeNodes(e,{at:[].concat(Object(l.a)(t[1]),Object(l.a)(o))}),d.i.insertNodes(e,n.map((function(e){return e[0]})),{at:d.a.end(e,t[1])})})),{v:!0}};for(i.s();!(n=i.n()).done;){var a=o();if("object"===typeof a)return a.v}}catch(c){i.e(c)}finally{i.f()}}return!1},handleKeyDown:function(e,t){var n=te.getToDoList(t);n&&"Home"===e.key&&0==e.shiftKey&&(e.preventDefault(),d.i.select(t,d.a.start(t,n[1])))}},ne=n(74),re=n(93),ie=function(e){return Object(F.jsx)(ne.a,{title:e.title,mouseEnterDelay:0,mouseLeaveDelay:0,getPopupContainer:function(e){return N.findParentByClassName(e,"cyEditor")||document.body},children:Object(F.jsx)(re.a,{className:"cyEditor__toolbar__button",type:"text",disabled:e.disabled,onMouseDown:function(t){t.preventDefault(),e.mousedownFunc(t)},children:Object(F.jsx)("span",Object(c.a)(Object(c.a)({},N.insertCypressId(e,"cypressId")),{},{children:e.children}))})})},oe=function(){var e=Object(f.g)();return Object(F.jsx)(ie,{title:"\u6e05\u9664\u683c\u5f0f",mousedownFunc:function(){!function(e){var t=U.getSelectedTds(e);if(t.length>0){var n,r=Object(x.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;d.i.unsetNodes(e,Object.values(h),{at:i[1]})}}catch(b){r.e(b)}finally{r.f()}}else{for(var o=0,a=Object.values(h);o<a.length;o++){var c=a[o];d.a.removeMark(e,c)}var l,s=d.a.nodes(e,{match:function(e){return $.isListItem(e)||U.isTd(e)||te.isTodoList(e)||N.isTextWrapper(e)}}),u=Object(x.a)(s);try{for(u.s();!(l=u.n()).done;){var f=l.value;d.i.unsetNodes(e,Object.values(h),{at:f[1]})}}catch(b){u.e(b)}finally{u.f()}d.i.deselect(e)}}(e)},cypressId:O.CLEAN_FORMAT,children:Object(F.jsx)(Z.a,{component:function(){return Object(F.jsxs)("svg",{viewBox:"0 0 1084 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"853",width:"14",height:"14",children:[Object(F.jsx)("defs",{children:Object(F.jsx)("style",{type:"text/css"})}),Object(F.jsx)("path",{d:"M719.329882 422.249412l-255.578353 255.578353 234.315295 234.315294 255.518117-255.638588-234.315294-234.255059zM59.151059 315.813647l298.164706-298.164706a60.235294 60.235294 0 0 1 85.172706 0l596.329411 596.329412a60.235294 60.235294 0 0 1 0 85.172706l-298.164706 298.164706a60.235294 60.235294 0 0 1-85.232941 0l-596.329411-596.329412a60.235294 60.235294 0 0 1 0-85.172706z",fill:"#333333","p-id":"854"})]})}})})},ae=n(407),ce=50,le=!1,se=function(e){var t=Object(f.f)(),n=Object(u.useContext)(Pn).setSavedMarks,r=Object(u.useState)(!1),i=Object(s.a)(r,2),o=i[0],a=i[1],l=Object(u.useRef)({isDisabled:E.a.debounce((function(){var e=1===U.getSelectedTdsSize(t),n=null!=t.selection&&d.g.isExpanded(t.selection);le&&a(!(e||n))}),ce)});Object(u.useEffect)((function(){return le=!0,function(){le=!1}}),[]),Object(u.useEffect)((function(){l.current.isDisabled()}));return Object(u.useMemo)((function(){return Object(F.jsx)(ie,{title:"\u683c\u5f0f\u5237",disabled:o,mousedownFunc:function(){!function(){try{var e=U.getSelectedTdsSize(t)>1,r=U.getFirstSelectedTd(t);if(r&&!e&&d.b.isElement(r[0]))return void n(r[0]||null);if(!t.selection)return null;var i=d.a.marks(t),o=d.a.above(t,{mode:"lowest",match:function(e){return N.isTextWrapper(e)||te.isTodoList(e)}});n(o?Object(c.a)(Object(c.a)({},i),o[0])||null:i||null)}catch(a){console.warn(a)}}()},cypressId:O.COPY_FORMAT,children:Object(F.jsx)(ae.a,{})})}),[o])},ue=n(400),de=!1,fe=function(e){var t=Object(f.f)(),n=Object(u.useState)(!1),r=Object(s.a)(n,2),i=r[0],o=r[1],a=Object(u.useState)(""),l=Object(s.a)(a,2),d=l[0],b=l[1],h=Object(u.useRef)(),j=Object(u.useRef)({getValue:E.a.debounce((function(){de&&b(e.getValue(t))}),ce)});return Object(u.useEffect)((function(){return de=!0,function(){de=!1}}),[]),Object(u.useEffect)((function(){j.current.getValue()})),Object(u.useMemo)((function(){return Object(F.jsx)(ne.a,{title:e.title,zIndex:99,mouseEnterDelay:0,mouseLeaveDelay:0,getPopupContainer:function(e){return N.findParentByClassName(e,"cyEditor")||document.body},children:Object(F.jsxs)("div",{ref:h,style:{width:100,position:"relative"},className:"cyEditor__toolbar__button",onMouseLeave:function(){o(!1)},children:[Object(F.jsx)("div",Object(c.a)({style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:1,cursor:"pointer"},onMouseDown:function(e){e.preventDefault(),o(!i)}},N.insertCypressId(e,"cypressId"))),Object(F.jsx)(ue.a,{placeholder:e.title,value:d,bordered:!1,style:{width:"100%"},open:i,dropdownClassName:"cyEditor__toolbar__dropdown",getPopupContainer:function(e){return e.parentElement||document.body},onSelect:function(n){var r;f.b.focus(t),null===e||void 0===e||null===(r=e.afterSelect)||void 0===r||r.call(e,n),o(!1)},dropdownMatchSelectWidth:!1,children:e.options.map((function(t){var n;return Object(F.jsx)(ue.a.Option,{value:String(t),children:(null===e||void 0===e||null===(n=e.optionLabelRender)||void 0===n?void 0:n.call(e,t))||t},t)}))})]})})}),[i,d])},be=function(){var e=Object(f.g)();return Object(F.jsx)(fe,{getValue:function(e){var t=U.getFirstSelectedTd(e);if(t&&d.b.isElement(t[0]))return t[0][h.TextAlign]||"\u5de6\u5bf9\u9f50";var n=d.a.nodes(e,{match:function(e){return N.isTextWrapper(e)||te.isTodoList(e)}}),r=Object(s.a)(n,1)[0];if(!r)return"\u5de6\u5bf9\u9f50";var i=d.b.isElement(r[0])&&r[0].textAlign;return!1===i||null==i?m.LEFT:i},options:[m.LEFT,m.RIGHT,m.X_CENTER],optionLabelRender:function(e){return e===m.LEFT?"\u5de6\u5bf9\u9f50":e===m.RIGHT?"\u53f3\u5bf9\u9f50":e===m.X_CENTER?"\u6c34\u5e73\u5c45\u4e2d":e===m.Y_CENTER?"\u5782\u76f4\u5c45\u4e2d":e===m.XY_CENTER?"\u6c34\u5e73\u5782\u76f4\u5c45\u4e2d":"".concat(e)},title:"\u5bf9\u9f50\u65b9\u5f0f",cypressId:O.SET_FONT_ALIGN,afterSelect:function(t){f.b.focus(e);var n=U.getSelectedTds(e);if(n.length>0){var r,i=Object(x.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;d.i.setNodes(e,{textAlign:t},{at:o[1]})}}catch(a){i.e(a)}finally{i.f()}}else e.selection&&d.i.setNodes(e,{textAlign:t},{mode:"lowest",match:function(e){return N.isTextWrapper(e)||te.isTodoList(e)}})}})},he=function(){var e=Object(f.g)();return Object(F.jsx)(fe,{getValue:function(e){return String(function(e,t){try{var n=U.getFirstSelectedTd(e);if(n&&d.b.isElement(n[0]))return n[0][t];if(!e.selection)return null;var r=d.a.marks(e);return null===r||void 0===r?void 0:r[t]}catch(i){return console.error(i),!1}}(e,h.FontSize)||14)},options:[12,13,14,15,16,19,22,24,29,32,40,48],optionLabelRender:function(e){return"".concat(e,"px")},title:"\u5b57\u4f53\u5927\u5c0f",cypressId:O.SET_FONT_SIZE,afterSelect:function(t){var n=U.getSelectedTds(e);if(n.length>0){var r,i=Object(x.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;d.i.setNodes(e,Object(a.a)({},h.FontSize,Number(t)),{at:o[1]})}}catch(c){i.e(c)}finally{i.f()}}else e.selection&&d.a.addMark(e,h.FontSize,Number(t))}})},je=function(){var e=Object(f.g)(),t=function(t){var n=U.getSelectedTds(e);if(n.length>0)n.forEach((function(n){d.i.setNodes(e,{type:t},{at:n[1],match:function(e){return N.isTextWrapper(e)}})}));else{d.i.setNodes(e,{type:t},{hanging:!0,mode:"lowest",match:function(e){return N.isTextWrapper(e)}});var r=Array.from(d.a.nodes(e,{match:function(e){return te.isTodoList(e)}}));r&&r.forEach((function(n){d.i.setNodes(e,{childrenWrapper:t},{at:n[1]})}))}};return Object(F.jsx)(fe,{getValue:function(e){var t=d.a.nodes(e,{match:function(e){return N.isTextWrapper(e)||te.isTodoList(e)}}),n=Object(s.a)(t,1)[0];if(!n)return"\u6b63\u6587";var i=d.b.isElement(n[0])&&(n[0].type===r.TODOLIST?n[0].childrenWrapper||"\u6b63\u6587":n[0].type);return"div"===i||!1===i?"\u6b63\u6587":String(i).toUpperCase()},options:["H1","H2","H3","H4","\u6b63\u6587"],optionLabelRender:function(e){return Object(F.jsx)("span",{children:e})},title:"\u5b57\u4f53\u6837\u5f0f",cypressId:O.WRAP_FONT_COMP,afterSelect:function(e){"H1"===e&&t(r.H1),"H2"===e&&t(r.H2),"H3"===e&&t(r.H3),"H4"===e&&t(r.H4),"\u6b63\u6587"===e&&t(r.DIV)}})},ve=n(409),pe=n(401),Oe=n(408),me=n(221),ge=function(e){var t=Object(u.useState)({hex:e.value}),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(F.jsxs)("div",{style:{padding:8,display:"flex",justifyContent:"flex-start",backgroundColor:"white",flexDirection:"column"},className:"cyEditor__toolbar__colorPanelWrapper",children:[Object(F.jsx)(me.a,{color:r.hex,colors:[],onChange:function(t){var n;i(t),null===e||void 0===e||null===(n=e.onChange)||void 0===n||n.call(e,t.hex)}}),Object(F.jsx)(re.a,{icon:Object(F.jsx)(Oe.a,{}),size:"small",onClick:function(){var t;null===e||void 0===e||null===(t=e.onChange)||void 0===t||t.call(e,"unset"),i({hex:""})},children:"\u91cd\u7f6e"})]})},ye=!1,Te=function(e){var t=Object(f.f)(),n=Object(u.useState)(""),r=Object(s.a)(n,2),i=r[0],o=r[1],a=Object(u.useState)(!1),c=Object(s.a)(a,2),l=c[0],b=c[1],h=Object(u.useRef)({_getColor:E.a.debounce((function(){ye&&o(j())}),ce)});Object(u.useEffect)((function(){return ye=!0,function(){ye=!1}}),[]);var j=function(){var n=U.getFirstSelectedTd(t);if(n)return d.b.isElement(n[0])&&(n[0][e.mark]||"unset");if(!t.selection)return"unset";if(!e.mark)return"unset";var r=d.a.marks(t);return r&&(null===r||void 0===r?void 0:r[null===e||void 0===e?void 0:e.mark])||window.getComputedStyle(document.body).color};return Object(u.useEffect)((function(){h.current._getColor()})),Object(u.useMemo)((function(){return Object(F.jsx)(ne.a,{title:e.title,zIndex:99,mouseLeaveDelay:0,mouseEnterDelay:0,getPopupContainer:function(e){return N.findParentByClassName(e,"cyEditor")||document.body},children:Object(F.jsx)("div",{onMouseLeave:function(){b(!1)},children:Object(F.jsx)(pe.a,{placement:"bottomCenter",overlayStyle:{zIndex:999},visible:l,overlay:function(){return Object(F.jsx)(ge,{value:i,onChange:function(t){var n;null===e||void 0===e||null===(n=e.onChange)||void 0===n||n.call(e,t),b(!1)}})},trigger:["click"],getPopupContainer:function(e){return e.parentElement||document.body},children:Object(F.jsx)(re.a,{type:"text",style:{color:i},onMouseDown:function(e){e.preventDefault(),b(!0)},children:e.icon})})})})}),[i,l])},xe=function(){var e=Object(f.g)();return Object(F.jsx)(Te,{title:"\u5b57\u4f53\u989c\u8272",onChange:function(t){f.b.focus(e);var n=U.getSelectedTds(e);if(n.length>0){var r,i=Object(x.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;d.i.setNodes(e,Object(a.a)({},h.Color,t),{at:o[1]})}}catch(c){i.e(c)}finally{i.f()}}else e.selection&&d.a.addMark(e,h.Color,t)},mark:h.Color,icon:Object(F.jsx)(ve.a,{})})},we=n(410),Ee=function(){var e=Object(f.g)();return Object(F.jsx)(Te,{title:"\u80cc\u666f\u8272",onChange:function(t){f.b.focus(e);var n=U.getSelectedTds(e);if(n.length>0){var r,i=Object(x.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;d.i.setNodes(e,Object(a.a)({},h.BGColor,t),{at:o[1]})}}catch(c){i.e(c)}finally{i.f()}}else e.selection&&d.a.addMark(e,h.BGColor,t)},mark:h.BGColor,icon:Object(F.jsx)(we.a,{})})},Se=n(411),Ne=!1,Ce=function(e){var t=Object(f.f)(),n=Object(u.useState)("text"),r=Object(s.a)(n,2),i=r[0],o=r[1],l=Object(u.useRef)({getType:E.a.debounce((function(){Ne&&o(e.mark&&function(e,t){try{var n=U.getFirstSelectedTd(e);if(n&&d.b.isElement(n[0]))return n[0][t];if(!e.selection)return null;var r=d.a.marks(e);return!0===(null===r||void 0===r?void 0:r[t])}catch(i){return console.error(i),!1}}(t,e.mark)?"link":"text")}),ce)});Object(u.useEffect)((function(){return Ne=!0,function(){Ne=!1}}),[]),Object(u.useEffect)((function(){l.current.getType()}));return Object(u.useMemo)((function(){return Object(F.jsx)(ne.a,{title:e.title,mouseEnterDelay:0,mouseLeaveDelay:0,getPopupContainer:function(e){return N.findParentByClassName(e,"cyEditor")||document.body},children:Object(F.jsx)(re.a,{className:"cyEditor__toolbar__button",type:i,onMouseDown:function(n){n.preventDefault(),e.mark&&function(e){var n=U.getSelectedTds(t);if(n.length>0){f.b.focus(t);var r=n[0][0];if(!d.b.isElement(r))return;n.forEach((function(n){d.b.isElement(n[0])&&(r[e]?d.i.unsetNodes(t,[e],{at:n[1]}):d.i.setNodes(t,Object(a.a)({},e,!0),{at:n[1]}))}))}else if(t.selection){var i=d.a.marks(t);(null===i||void 0===i?void 0:i[e])?d.a.removeMark(t,e):d.a.addMark(t,e,!0)}}(e.mark)},children:Object(F.jsx)("span",Object(c.a)(Object(c.a)({},N.insertCypressId(e,"cypressId")),{},{children:e.children}))})})}),[i])},Ie=function(){return Object(F.jsx)(Ce,{title:"\u52a0\u7c97",mark:h.BOLD,cypressId:O.SET_BOLD,children:Object(F.jsx)(Se.a,{})})},Le=n(412),De=function(){return Object(F.jsx)(Ce,{title:"\u659c\u4f53",mark:h.ITALIC,cypressId:O.SET_ITALIC,children:Object(F.jsx)(Le.a,{})})},Be=n(413),Ae=function(){return Object(F.jsx)(Ce,{title:"\u4e0b\u5212\u7ebf",mark:h.Underline,cypressId:O.SET_UNDERLINE,children:Object(F.jsx)(Be.a,{})})},Re=n(414),Me=function(){return Object(F.jsx)(Ce,{title:"\u5220\u9664\u7ebf",mark:h.LineThrough,cypressId:O.SET_LINETHROUGH,children:Object(F.jsx)(Re.a,{})})},Pe=n(415),Fe=!1,ke=function(e){var t=Object(f.f)(),n=e.mousedownFunc,r=e.title,i=e.disabledCondition,o=void 0===i?function(){return!1}:i,a=Object(u.useState)(!1),l=Object(s.a)(a,2),d=l[0],b=l[1],h=Object(u.useRef)({_isDisabled:E.a.debounce((function(){Fe&&b(o(t))}),ce)}),j=Object(u.useRef)(null);return Object(u.useEffect)((function(){return Fe=!0,function(){h.current._isDisabled=function(){},Fe=!1}}),[]),Object(u.useEffect)((function(){h.current._isDisabled()})),Object(F.jsx)("div",{ref:j,children:Object(F.jsx)(ne.a,{title:r,mouseEnterDelay:0,mouseLeaveDelay:0,getPopupContainer:function(e){return N.findParentByClassName(e,"cyEditor")||document.body},children:Object(F.jsx)(re.a,Object(c.a)(Object(c.a)({className:"cyEditor__toolbar__button",type:"text",disabled:d,onMouseDown:function(e){e.preventDefault(),n(e)}},N.insertCypressId(e,"cypressId")),{},{children:e.children}))})})},_e=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u5f85\u529e\u5217\u8868",mousedownFunc:function(){!function(){var t=Array.from(d.a.nodes(e,{match:function(e){return te.isTodoList(e)},reverse:!0}));t.length>0?t.forEach((function(t){d.a.withoutNormalizing(e,(function(){d.i.unwrapNodes(e,{at:t[1]}),d.i.wrapNodes(e,{type:r.DIV,children:[]},{at:t[1],mode:"lowest",match:function(e){return d.h.isText(e)}})}))})):d.a.withoutNormalizing(e,(function(){var t=Array.from(d.a.nodes(e,{mode:"lowest",match:function(e){return N.isTextWrapper(e)},reverse:!0}));t.length>0&&t.forEach((function(t){d.i.wrapNodes(e,{type:r.TODOLIST,childrenWrapper:"div",children:[]},{at:t[1]}),d.i.unwrapNodes(e,{at:[].concat(Object(l.a)(t[1]),[0])}),N.isElementEmpty(e,t)&&d.i.insertText(e,"todo...",{at:d.a.end(e,Object(l.a)(t[1]))})}))}))}()},disabledCondition:function(e){return null==e.selection||$.isInLi(e)},cypressId:O.TODO_LIST,children:Object(F.jsx)(Pe.a,{})})},ze=n(416),We=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u6709\u5e8f\u5217\u8868",mousedownFunc:function(){$.toggleList(e,r.NUMBER_LIST)},disabledCondition:function(e){return null==e.selection||te.isInToDoList(e)},cypressId:O.ORDER_LIST,children:Object(F.jsx)(ze.a,{})})},He=n(417),Ve=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u65e0\u5e8f\u5217\u8868",mousedownFunc:function(){$.toggleList(e,r.NORMAL_LIST)},disabledCondition:function(e){return null==e.selection||te.isInToDoList(e)},cypressId:O.NORMALIZE_LIST,children:Object(F.jsx)(He.a,{})})},Ye=n(418),Ue=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u8bbe\u7f6e\u94fe\u63a5",mousedownFunc:function(){!function(){var t=d.a.nodes(e,{match:function(e){return d.b.isElement(e)&&e.type===r.LINK}});Object(s.a)(t,1)[0]||d.i.wrapNodes(e,{type:r.LINK,url:"http://www.baidu.com",children:[]},{split:!0})}()},disabledCondition:function(e){return null==e.selection},children:Object(F.jsx)(Ye.a,{})})},Ge=n(30),Xe=n.n(Ge),qe=n(92),Ke=n(419),Je=n(133),Ze=n.n(Je),$e=["image/apng","image/avif","image/gif","image/jpeg","image/png","image/svg+xml","image/webp"],Qe=5242880;var et=function(){var e=Object(qe.a)(Xe.a.mark((function e(t){var n,r,i,o;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(i=new FormData).append("file",t),e.next=5,Ze()({method:"post",url:"http://localhost:3001/uploadFile",data:i,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 5:return o=e.sent,e.abrupt("return","http://localhost:3001/".concat(null===o||void 0===o||null===(n=o.data)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.filename));case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,new Promise((function(e){setTimeout((function(){e()}),2e3)}));case 13:return e.abrupt("return",URL.createObjectURL(t));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),tt=function(e,t){var n=function(e){var t=[],n=[];return Array.isArray(e)&&Array.from(e).forEach((function(e){!$e.includes(e.type)||e.size>Qe?n.push(e):t.push(e)})),{legalFiles:t,illegalFiles:n}}(t=Array.from(t)),i=n.illegalFiles,o=n.legalFiles;i.length>0&&H.b.error(i.map((function(e){return e.name})).join("\uff0c")+"\uff0c\u6587\u4ef6\u683c\u5f0f\u975e\u6cd5\uff08\u6216\u8d85\u8fc7\u6700\u5927\u9650\u5236".concat(5,"M\uff09"));var a,c=Object(x.a)(o);try{var l=function(){var t=a.value;!function(e,t,n,i){e.selection&&d.g.isExpanded(e.selection)&&d.i.collapse(e,{edge:"end"}),d.i.insertNodes(e,{type:r.IMG,url:t,id:n,children:[{text:""}]}),d.i.move(e),i(n)}(e,URL.createObjectURL(t),(new Date).getTime(),function(){var n=Object(qe.a)(Xe.a.mark((function n(r){var i;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,et(t);case 2:i=n.sent,d.i.setNodes(e,{id:null,url:i},{at:[],match:function(e){return d.b.isElement(e)&&e.id===r}});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())};for(c.s();!(a=c.n()).done;)l()}catch(s){c.e(s)}finally{c.f()}},nt=function(){var e=Object(f.g)(),t=Object(u.useRef)();return Object(F.jsxs)(ke,{title:Object(F.jsxs)("span",{className:"customToolBarTitle",children:["\u63d2\u5165\u56fe\u7247",Object(F.jsx)("br",{}),Object(F.jsxs)("span",{className:"customToolBarTitle_subTitle",children:["\u652f\u6301\u683c\u5f0f\uff1a",$e.join("\uff0c").replace(/image\//gi,".")]})]}),mousedownFunc:function(){t.current&&t.current.click()},disabledCondition:function(e){return null==e.selection},children:[Object(F.jsx)("input",{ref:t,type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:function(t){var n=t.target.files;n&&tt(e,n)}}),Object(F.jsx)(Ke.a,{})]})},rt=n(420),it=[".doc",".docx",".xlsx",".xls",".csv",".pdf",".txt",".zip",".7z",".ppt",".pptx"],ot=10485760;var at=function(){var e=Object(qe.a)(Xe.a.mark((function e(t){var n,r,i,o;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(i=new FormData).append("file",t),e.next=5,Ze()({method:"post",url:"http://localhost:3001/uploadFile",data:i,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 5:return o=e.sent,e.abrupt("return","http://localhost:3001/".concat(null===o||void 0===o||null===(n=o.data)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.filename));case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,new Promise((function(e){setTimeout((function(){e()}),2e3)}));case 13:return e.abrupt("return",URL.createObjectURL(t));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ct=function(e,t){var n=function(e){var t=[],n=[];return Array.isArray(e)&&Array.from(e).forEach((function(e){var r,i=null===(r=e.name.match(/\.\w+$/g))||void 0===r?void 0:r[0];!i||!it.includes(i)||e.size>ot?n.push(e):t.push(e)})),{legalFiles:t,illegalFiles:n}}(t=Array.from(t)),i=n.illegalFiles,o=n.legalFiles;i.length>0&&H.b.error(i.map((function(e){return e.name})).join("\uff0c")+"\uff0c\u6587\u4ef6\u683c\u5f0f\u975e\u6cd5\uff08\u6216\u8d85\u8fc7\u6700\u5927\u9650\u5236".concat(10,"M\uff09"));var a,c=Object(x.a)(o);try{var l=function(){var t=a.value;!function(e,t,n,i,o){e.selection&&d.g.isExpanded(e.selection)&&d.i.collapse(e,{edge:"end"}),d.i.insertNodes(e,{type:r.FILE,url:t,fileName:n,id:i,children:[{text:""}]}),d.i.move(e),o(i)}(e,URL.createObjectURL(t),t.name,(new Date).getTime(),function(){var n=Object(qe.a)(Xe.a.mark((function n(r){var i;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,at(t);case 2:i=n.sent,d.i.setNodes(e,{id:null,url:i},{at:[],match:function(e){return d.b.isElement(e)&&e.id===r}});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())};for(c.s();!(a=c.n()).done;)l()}catch(s){c.e(s)}finally{c.f()}},lt=function(){var e=Object(f.g)(),t=Object(u.useRef)();return Object(F.jsxs)(ke,{title:Object(F.jsxs)("span",{className:"customToolBarTitle",children:["\u63d2\u5165\u9644\u4ef6",Object(F.jsx)("br",{}),Object(F.jsxs)("span",{className:"customToolBarTitle_subTitle",children:["\u652f\u6301\u683c\u5f0f\uff1a",it.join("\uff0c")]})]}),mousedownFunc:function(){t.current&&t.current.click()},disabledCondition:function(e){return null==e.selection},children:[Object(F.jsx)("input",{ref:t,type:"file",multiple:!0,hidden:!0,onChange:function(t){var n=t.target.files;n&&ct(e,n)}}),Object(F.jsx)(rt.a,{})]})},st=n(421),ut=function(e){var t=Object(f.f)(),n=Object(u.useState)(!1),i=Object(s.a)(n,2),o=i[0],a=i[1],c=Object(u.useState)(""),l=Object(s.a)(c,2),b=l[0],h=l[1],j=Object(u.useRef)(),v=Object(u.useState)(!1),p=Object(s.a)(v,1)[0],O=Object(u.useRef)({_isDisabled:E.a.debounce((function(){}),ce)});Object(u.useEffect)((function(){O.current._isDisabled()}));var m=function(e){var t=j.current,n=e.target,r=e.target.parentNode;if(t&&n&&r){Array.from(t.querySelectorAll("td")).forEach((function(e){e.style.backgroundColor="unset"}));for(var i=Array.from(t.querySelectorAll("tr")),o=0;o<=r.rowIndex;o++)for(var a=i[o],c=Array.from(a.querySelectorAll("td")),l=0;l<=n.cellIndex;l++){c[l].style.backgroundColor="rgba(180,215,255,.7)"}h("".concat(n.cellIndex+1,"x").concat(r.rowIndex+1))}},g=function(){var e=Number(b.split("x")[0]),n=Number(b.split("x")[1]);if(Number.isInteger(e)&&Number.isInteger(n)&&(f.b.focus(t),t.selection)){var i=d.a.nodes(t,{mode:"lowest",match:function(e){return N.isTextWrapper(e)}}),o=Object(s.a)(i,1)[0];if(o){var c=f.b.toDOMNode(t,o[0]);if(c.offsetParent){var l=c.offsetWidth-2;d.i.collapse(t);var u=t.selection.anchor.path;d.i.insertNodes(t,{type:r.TABLE,wrapperWidthWhenCreated:l,children:[{type:r.TBODY,children:new Array(n).fill("0").map((function(){return{type:r.TR,children:new Array(e).fill("0").map((function(){return{type:r.TD,width:l/e,height:_,children:[{type:r.DIV,children:[{text:""}]}]}}))}}))}]},{at:[u[0]+1]}),d.i.deselect(t),a(!1)}}}};return Object(u.useMemo)((function(){return Object(F.jsx)("div",{onMouseLeave:function(){a(!1)},children:Object(F.jsx)(pe.a,{placement:"bottomCenter",overlayStyle:{zIndex:999},visible:o,overlay:function(){return Object(F.jsxs)("div",{className:"cyEditor__toolbar__tablePanelWrapper",style:{width:200,padding:8,display:"flex",justifyContent:"flex-start",backgroundColor:"white",flexDirection:"column"},children:[o?Object(F.jsx)("table",{border:"1",ref:j,children:Object(F.jsx)("tbody",{children:new Array(10).fill(0).map((function(e,t){return Object(F.jsx)("tr",{children:new Array(10).fill(0).map((function(e,t){return Object(F.jsx)("td",{onMouseEnter:m,onClick:g},t)}))},t)}))})}):null,Object(F.jsx)("div",{style:{textAlign:"right"},children:b})]})},trigger:["click"],getPopupContainer:function(e){return e.parentElement||document.body},children:Object(F.jsx)(ne.a,{title:"\u8868\u683c",zIndex:99,mouseLeaveDelay:0,mouseEnterDelay:0,children:Object(F.jsx)(re.a,{type:"text",onMouseDown:function(e){e.preventDefault(),a(!0)},disabled:p,children:Object(F.jsx)(st.a,{})})})})})}),[o,p,b])},dt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u5220\u9664\u8868\u683c",mousedownFunc:function(){U.deleteTable(e)},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(Oe.a,{})})},ft=n(228),bt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u590d\u5236\u8868\u683c",mousedownFunc:function(){U.copyTable(e)},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(ft.a,{})})},ht=n(422),jt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u5220\u9664\u5217",mousedownFunc:function(){U.deleteColumn(e)},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(ht.a,{})})},vt=n(423),pt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u5220\u9664\u884c",mousedownFunc:function(){U.deleteRow(e)},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(vt.a,{})})},Ot=n(424),mt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u540e\u63d2\u5165\u6587\u672c",mousedownFunc:function(){!function(){if(e.selection){var t=d.a.nodes(e,{mode:"highest",match:function(t){return!d.a.isEditor(t)&&(d.a.isBlock(e,t)||d.a.isVoid(e,t))}}),n=Object(s.a)(t,1)[0];n&&d.i.insertNodes(e,{type:r.DIV,children:[{text:"some text..."}]},{at:d.e.next(n[1])})}}()},disabledCondition:function(e){var t=U.isInTable(e),n=d.a.nodes(e,{mode:"highest",match:function(e){return d.b.isElement(e)&&r.CODE===e.type}});return!(Object(s.a)(n,1)[0]||t)},children:Object(F.jsx)(Ot.a,{})})},gt=n(425),yt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u524d\u63d2\u5165\u6587\u672c",mousedownFunc:function(){!function(){if(e.selection){var t=d.a.nodes(e,{mode:"highest",match:function(t){return!d.a.isEditor(t)&&(d.a.isBlock(e,t)||d.a.isVoid(e,t))}}),n=Object(s.a)(t,1)[0];n&&d.i.insertNodes(e,{type:r.DIV,children:[{text:"some text..."}]},{at:n[1]})}}()},disabledCondition:function(e){var t=U.isInTable(e),n=d.a.nodes(e,{mode:"highest",match:function(e){return d.b.isElement(e)&&r.CODE===e.type}});return!(Object(s.a)(n,1)[0]||t)},children:Object(F.jsx)(gt.a,{})})},Tt=n(426),xt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u5de6\u63d2\u5165\u5217",mousedownFunc:function(){U.insertColumn(e,"before")},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(Tt.a,{})})},wt=n(427),Et=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u53f3\u63d2\u5165\u5217",mousedownFunc:function(){U.insertColumn(e,"after")},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(wt.a,{})})},St=n(428),Nt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u4e0a\u63d2\u5165\u884c",mousedownFunc:function(){U.insertRow(e,"before")},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(St.a,{})})},Ct=n(429),It=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u4e0b\u63d2\u5165\u884c",mousedownFunc:function(){U.insertRow(e,"after")},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(Ct.a,{})})},Lt=n(430),Dt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u5408\u5e76\u5355\u5143\u683c",mousedownFunc:function(){U.mergeTd(e)},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(Lt.a,{})})},Bt=n(431),At=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u62c6\u5206\u5355\u5143\u683c",mousedownFunc:function(){U.splitTd(e)},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(Bt.a,{})})},Rt=n(432),Mt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u6e05\u7a7a\u5355\u5143\u683c",mousedownFunc:function(){W.clearTd(e)},disabledCondition:N.hasNotSelectedAnyTd,children:Object(F.jsx)(Rt.a,{})})},Pt=n(433),Ft=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:Object(F.jsxs)("span",{className:"customToolBarTitle",children:["\u9009\u4e2d\u5355\u5143\u683c",Object(F.jsx)("br",{}),Object(F.jsx)("span",{className:"customToolBarTitle_subTitle",children:"\u6216\u8005\u9f20\u6807\u79fb\u52a8\u5230\u5355\u5143\u683c\u7684\u8fb9\u7f18\u51fa\u73b0\u5341\u5b57\u6807\u65f6\uff0c\u8fdb\u884c\u53cc\u51fb"})]}),mousedownFunc:function(){var t=U.getEditingTd(e);t&&(d.i.setNodes(e,{start:!0,selected:!0},{at:t[1]}),d.i.deselect(e))},disabledCondition:N.hasNotSelectedAnyTd,cypressId:O.SELECTE_TD,children:Object(F.jsx)(Pt.a,{})})},kt=n(434),_t=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:Object(F.jsxs)("span",{className:"customToolBarTitle",children:["\u8868\u683c(\u5e94\u7528/\u53d6\u6d88)\u81ea\u9002\u5e94",Object(F.jsx)("br",{}),Object(F.jsx)("span",{className:"customToolBarTitle_subTitle",children:"\u81ea\u9002\u5e94\u6a21\u5f0f\uff1a\u8868\u683c\u5355\u5143\u683c\u6700\u5c0f\u5bbd\u5ea6\u4e3a100px\uff0c\u5f53\u6240\u6709\u5355\u5143\u683c\u6700\u5c0f\u5bbd\u5ea6\u52a0\u8d77\u6765\u8d85\u8fc7\u8868\u683c\u6240\u5904\u6587\u6863\u5bbd\u5ea6\uff0c\u90a3\u4e48\u4f1a\u51fa\u73b0\u6eda\u52a8\u6761\u3002"})]}),mousedownFunc:function(){if(U.isInTable(e)||U.getFirstSelectedTd(e)){var t=null;if(e.selection){var n;t=null===(n=Array.from(d.a.nodes(e,{mode:"highest",match:function(e){return U.isTable(e)}})))||void 0===n?void 0:n[0]}else{var r=U.getFirstSelectedTd(e);r&&(t=d.a.above(e,{match:function(e){return U.isTable(e)},at:r[1]})||null)}if(!t)return;var i=d.b.isElement(t[0])&&t[0].tdAutoWidth;d.a.withoutNormalizing(e,(function(){d.i.setNodes(e,{tdAutoWidth:!i},{at:t[1]}),d.i.setNodes(e,{tdAutoWidth:!i},{at:t[1],mode:"lowest",match:function(e){return U.isTd(e)}})}))}},disabledCondition:function(e){return!U.isInTable(e)&&0===U.getSelectedTdsSize(e)},children:Object(F.jsx)(kt.a,{})})},zt=n(435),Wt=function(){var e=Object(f.g)();return Object(F.jsx)(ke,{title:"\u63d2\u5165\u4ee3\u7801\u5757",mousedownFunc:function(){if(e.selection){var t=d.a.nodes(e,{mode:"highest",match:function(e){return!d.a.isEditor(e)}}),n=Object(s.a)(t,1)[0];n&&d.i.insertNodes(e,{type:r.CODE,defaultMode:"javascript",children:[{text:""}]},{at:d.e.next(n[1])})}},disabledCondition:function(e){return null==e.selection},children:Object(F.jsx)(zt.a,{})})},Ht=function(e){var t=Object(u.useContext)(Pn),n=t.readOnly,r=t.setReadOnly,i=n?"\u5207\u6362\u5230\u7f16\u8f91\u6a21\u5f0f":"\u5207\u6362\u5230\u53ea\u8bfb\u6a21\u5f0f";return Object(F.jsx)(ie,{title:i,mousedownFunc:function(){r(!n)},children:n?Object(F.jsx)(K.a,{}):Object(F.jsx)(J.a,{})})},Vt=function(e){Object(f.g)();var t=Object(F.jsx)(G.a,{style:{height:20,backgroundColor:"rgb(0 0 0 / 10%)"},type:"vertical"}),n=function(){var e={};return e[j.FontTypeButton]=Object(F.jsx)(je,{}),e[j.FontSizeButton]=Object(F.jsx)(he,{}),e[j.TextAlignButton]=Object(F.jsx)(be,{}),e[j.CopyFormatButton]=Object(F.jsx)(se,{}),e[j.CleanFormatButton]=Object(F.jsx)(oe,{}),e[j.FontColorButton]=Object(F.jsx)(xe,{}),e[j.FontBGColorButton]=Object(F.jsx)(Ee,{}),e[j.FontWeightButton]=Object(F.jsx)(Ie,{}),e[j.FontStyleButton]=Object(F.jsx)(De,{}),e[j.UnderLineButton]=Object(F.jsx)(Ae,{}),e[j.LineThroughButton]=Object(F.jsx)(Me,{}),e[j.ToDoListButton]=Object(F.jsx)(_e,{}),e[j.OrderListButton]=Object(F.jsx)(We,{}),e[j.NormalListButton]=Object(F.jsx)(Ve,{}),e[j.InsertTextAfterVoid]=Object(F.jsx)(mt,{}),e[j.InsertTextBeforeVoid]=Object(F.jsx)(yt,{}),e[j.SetLinkButton]=Object(F.jsx)(Ue,{}),e[j.InsertImgButton]=Object(F.jsx)(nt,{}),e[j.InsertFileButton]=Object(F.jsx)(lt,{}),e[j.InsertTableButton]=Object(F.jsx)(ut,{}),e[j.TableAutoWidthButton]=Object(F.jsx)(_t,{}),e[j.DeleteTableButton]=Object(F.jsx)(dt,{}),e[j.CopyTableButton]=Object(F.jsx)(bt,{}),e[j.SelectCellButton]=Object(F.jsx)(Ft,{}),e[j.DeleteColumnButton]=Object(F.jsx)(jt,{}),e[j.DeleteRowButton]=Object(F.jsx)(pt,{}),e[j.InsertColumnBeforeCell]=Object(F.jsx)(xt,{}),e[j.InsertColumnAfterCell]=Object(F.jsx)(Et,{}),e[j.InsertRowBeforeButton]=Object(F.jsx)(Nt,{}),e[j.InsertRowAfterButton]=Object(F.jsx)(It,{}),e[j.MergeCellButton]=Object(F.jsx)(Dt,{}),e[j.SplitCellButton]=Object(F.jsx)(At,{}),e[j.ClearCellButton]=Object(F.jsx)(Mt,{}),e[j.ReadOnlyButton]=Object(F.jsx)(Ht,{}),e[j.InsertCodeButton]=Object(F.jsx)(Wt,{}),e.divide=t,e}();return Object(F.jsx)("div",{className:"cyEditor__toolBar",style:{position:"relative",marginBottom:4},children:Object(F.jsx)(X.a,{align:"middle",children:e.buttons.map((function(e,t){return Object(F.jsx)(q.a,{children:n[e]},t)}))})})},Yt=function e(t){var n,i;if(3===t.nodeType)return t.textContent;if(1!==t.nodeType)return null;var o={};null===(n=t.style)||void 0===n||null===(i=n.cssText)||void 0===i||i.split(";").forEach((function(e){var t=e.split(":"),n=Object(s.a)(t,2),r=n[0],i=n[1];if(!r)return null;var a=r.trim().replace(/^([a-z]+)-([a-z])([a-z]+)$/gi,(function(e,t,n,r){return t+n.toUpperCase()+r})),c=i.trim();"textDecoration"===a?(c.includes("underline")&&(o[h.Underline]=!0),c.includes("line-through")&&(o[h.LineThrough]=!0)):"bold"===c?o[h.BOLD]=!0:"italic"===c?o[h.ITALIC]=!0:Object.values(h).includes(a)&&(o[a]=c),"width"===a&&(o.width=parseInt(c)),"height"===a&&(o.height=parseInt(c))}));var a=Array.from(t.childNodes).map(e);switch(0===a.length&&(a=[{text:""}]),t.nodeName){case"BR":return"\n";case"BODY":return Object(S.a)("fragment",{},a);case"P":case"DIV":var l=(Array.from(null===t||void 0===t?void 0:t.childNodes)||[]).every((function(e){return 3===e.nodeType}));return Object(S.a)("element",Object(c.a)({type:l?r.DIV:r.Block},o),a);case"H1":return Object(S.a)("element",Object(c.a)({type:r.H1},o),a);case"H2":return Object(S.a)("element",Object(c.a)({type:r.H2},o),a);case"H3":return Object(S.a)("element",Object(c.a)({type:r.H3},o),a);case"H4":return Object(S.a)("element",Object(c.a)({type:r.H4},o),a);case"A":return Object(S.a)("element",Object(c.a)({type:r.LINK,url:t.getAttribute("href")},o),a);case"IMG":return Object(S.a)("element",Object(c.a)({type:r.IMG,url:t.getAttribute("src")},o),a);case"UL":return Object(S.a)("element",Object(c.a)({type:r.NORMAL_LIST},o),a);case"OL":return Object(S.a)("element",Object(c.a)({type:r.NUMBER_LIST},o),a);case"LI":return Object(S.a)("element",Object(c.a)({type:r.LIST_ITEM},o),a);case"TABLE":return Object(S.a)("element",Object(c.a)({type:r.TABLE},o),a);case"TBODY":return Object(S.a)("element",Object(c.a)({type:r.TBODY},o),a);case"TR":return Object(S.a)("element",Object(c.a)({type:r.TR},o),a);case"TD":return Object(S.a)("element",Object(c.a)(Object(c.a)({type:r.TD},o),{},{rowSpan:t.getAttribute("rowspan")||1,colSpan:t.getAttribute("colspan")||1}),a);default:return t.textContent}},Ut=function(e){var t=(new DOMParser).parseFromString(e,"text/html");return Yt(t.body)},Gt=function(e){var t=e.deleteForward,n=e.deleteBackward,i=e.insertText,o=e.getFragment,a=e.insertFragment,c=e.insertData,u=e.insertBreak,f=e.isInline,h=e.isVoid,j=e.normalizeNode,v=e.apply,O=e.deleteFragment,m=e.undo;e.undo=function(){W.deselectAllTd(e),m()},e.apply=function(t){try{if("set_node"===t.type){var n=d.a.node(e,t.path),i=n&&d.b.isElement(n[0])&&n[0].type===r.IMG,o=n&&d.b.isElement(n[0])&&n[0].type===r.FILE,a=n&&U.isTd(n[0]),c=n&&U.isTable(n[0]),l=t.newProperties,s=t.properties;if(a&&(l.selected||l.width||l.start||l.tdIsEditing||s.start||s.selected||s.width||s.tdIsEditing)||c&&(l.wrapperWidthWhenCreated||s.wrapperWidthWhenCreated)||i||o)return void b.a.withoutSaving(e,(function(){v(t)}))}v(t)}catch(u){console.warn(u)}};var g=E.a.throttle((function(){if(e.selection){var t=te.getToDoList(e);if(t)return t&&""===d.a.string(e,t[1],{voids:!0})?void d.i.setNodes(e,{type:r.DIV},{at:t[1]}):void u();if(d.g.isExpanded(e.selection))N.removeRangeElement(e);else{var n=N.getParent(e,e.selection.anchor.path);if(!n[0])return;var i=d.a.parent(e,n[1]),o=$.isListItem(i[0])&&i;if(o&&""===d.a.string(e,o[1],{voids:!0}))return void d.i.liftNodes(e,{at:o[1]})}u()}}),50);e.insertBreak=function(){g()},e.deleteFragment=function(){var t=d.a.nodes(e,{match:function(e){return U.isTable(e)},mode:"highest"});Object(s.a)(t,1)[0]?N.removeRangeElement(e):O()},e.deleteForward=function(n){if(e.selection){var r=d.a.after(e,e.selection.anchor),i=d.a.above(e,{at:r,mode:"lowest",match:function(e){return U.isTd(e)}}),o=d.a.above(e,{mode:"lowest",match:function(e){return U.isTd(e)}}),a=null!=i&&null!=o&&!d.e.equals(o[1],i[1])||null!=i&&null==o,c=[function(e){if(e.selection)return y(),!(!$.isInList(e)||!a)||void 0},function(e){if(e.selection)return te.getToDoList(e)?(a||t(n),!0):void 0},function(e){if(e.selection)return U.isInTable(e)&&null!=o?d.a.isEnd(e,e.selection.anchor,o[1]):void 0},function(e){if(e.selection){var r=d.a.above(e,{mode:"lowest",match:function(e){return N.isTextWrapper(e)}});return r&&N.isElementEmpty(e,r)?(a?(d.i.removeNodes(e,{hanging:!0}),d.i.move(e),setTimeout((function(){d.i.move(e,{reverse:!0})}),0)):t(n),!0):!!a||void 0}}].some((function(t){return t(e)}));c||t(n)}},e.deleteBackward=function(t){if(e.selection){var i=U.isInTable(e),o=d.a.before(e,e.selection.anchor),a=d.a.above(e,{at:o,mode:"lowest",match:function(e){return U.isTd(e)}}),c=d.a.above(e,{mode:"lowest",match:function(e){return U.isTd(e)}}),s=null!=a&&null!=c&&!d.e.equals(c[1],a[1])||null!=a&&null==c,u=[function(e){if(e.selection&&$.isInList(e)){y();var r=d.a.above(e,{mode:"lowest",match:function(e){return $.isListItem(e)}});if(r){var i=N.isElementEmpty(e,r),o=1===d.a.parent(e,r[1])[0].children.length;return d.a.isStart(e,e.selection.anchor,r[1])?i&&o?(d.i.removeNodes(e,{at:r[1]}),d.i.move(e),setTimeout((function(){d.i.move(e,{reverse:!0}),s&&d.i.move(e)}),10),!0):i&&!o?(d.i.removeNodes(e,{at:r[1]}),!0):!i&&o?(!s&&n(t),!0):(i||o||!s&&n(t),!0):void 0}}},function(e){if(e.selection){var i=te.getToDoList(e);if(i)if(d.a.isStart(e,e.selection.anchor,i[1]))return s?(d.i.removeNodes(e,{at:i[1]}),d.i.move(e)):null==d.a.before(e,e.selection)?d.a.withoutNormalizing(e,(function(){d.i.wrapNodes(e,{type:r.DIV,children:[]},{at:i[1]}),d.i.unwrapNodes(e,{at:[].concat(Object(l.a)(i[1]),[0])})})):n(t),!0}},function(e){if(e.selection)return i&&null!=c?d.a.isStart(e,e.selection.anchor,c[1]):void 0},function(e){if(e.selection){var r=d.a.above(e,{mode:"lowest",match:function(e){return N.isTextWrapper(e)}});return r&&N.isElementEmpty(e,r)?(s?(d.i.removeNodes(e,{hanging:!0}),d.i.move(e),setTimeout((function(){d.i.move(e,{reverse:!0})}),0)):n(t),!0):!!s||void 0}}].some((function(t){return t(e)}));u||n(t)}},e.insertText=function(t){e.selection&&d.g.isExpanded(e.selection)&&N.removeRangeElement(e),i(t)},e.getFragment=function(){var e;return I(null),D({copyedAreaHeight:0,copyedAreaWidth:0}),e=o(),C.copyedContent=e,o()},e.insertFragment=function(t){N.removeRangeElement(e);var n=L()||[],r=N.filterCopyedContent(n.map((function(e){return e[0]}))),i=n.length>0,o=U.isInTable(e),c=n.length>0?r:t;o?c&&a(E.a.cloneDeep(N.filterCopyedContent(c))):i?a(E.a.cloneDeep(c)):c&&a(E.a.cloneDeep(N.filterCopyedContent(c)))},e.insertData=function(t){if(t.types.includes("application/x-slate-fragment"))c(t);else if(t.types.includes("text/plain")){var n=new DataTransfer,r=Ut(t.getData("text/plain"));n.setData("application/x-slate-fragment",N.encodeSlateContent(r)),c(n)}else if(t.types.includes("Files")){var i=t.files;tt(e,i),ct(e,i)}};var y=E.a.debounce((function(){var t=d.a.next(e,{match:function(e){return $.isOrderList(e)}});t&&e.normalizeNode(t);var n=d.a.previous(e,{match:function(e){return $.isOrderList(e)}});n&&e.normalizeNode(n)}),0);e.isInline=function(e){return!![r.IMG,r.FILE,r.LINK,r.CHECKBOX].includes(e.type)||f(e)},e.isVoid=function(e){return!![r.IMG,r.FILE,r.CHECKBOX].includes(e.type)||h(e)};return e.normalizeNode=function(t){var n=Object(s.a)(t,2),i=n[0],o=n[1],a=N.getNodeByPath(e,[e.children.length-1]),c=N.getNodeByPath(e,[e.children.length-2]);if(!(N.isTextWrapper(a[0])&&N.isElementEmpty(e,a)))return d.i.insertNodes(e,{type:r.DIV,children:[{text:""}]},{at:[e.children.length]}),!0;if(N.isTextWrapper(c[0])&&N.isElementEmpty(e,c))return d.i.removeNodes(e,{at:c[1]}),!0;if(0!==e.children.length){if(d.b.isElement(i)&&p.includes(i.type)){var l=N.getPath(o,"pre"),u=N.getNodeByPath(e,l),f=Object(s.a)(u,1)[0];if(f&&!d.h.isText(f))return void d.i.insertNodes(e,{text:""},{at:l});var b=N.getPath(o,"next"),h=N.getNodeByPath(e,b),v=Object(s.a)(h,1)[0];if(!d.h.isText(v))return void d.i.insertNodes(e,{text:""},{at:b})}d.b.isElement(i)&&i.type===r.LINK&&""===d.a.string(e,o,{voids:!0})?d.i.removeNodes(e,{at:o}):U.normalizeTable(e,t)||$.normalizeList(e,t)||te.normalizeToDoList(e,t)||j(t)}else d.i.insertNodes(e,{type:r.DIV,children:[{text:""}]})},e},Xt=function(e,t){if(B(t).size>0)!function(e,t){switch(e.key){case"Delete":case"Backspace":W.clearTd(t);break;case"Escape":e.preventDefault(),W.deselectAllTd(t)}e.ctrlKey&&"c"===e.key?U.copyCells(t):e.ctrlKey&&"v"===e.key&&U.pasteCells(t)}(e,t);else{var n=t.selection;if(n)return d.g.isExpanded(n)?function(e,t){var n=t.selection;if(n)switch(e.key){case"Home":return void te.handleKeyDown(e,t);case"Tab":if(e.preventDefault(),$.isInLi(t)){var r,i=Object(x.a)(d.a.nodes(t,{at:n,reverse:!0,universal:!0,match:function(e){return N.isTextWrapper(e)}}));try{for(i.s();!(r=i.n()).done;){var o=Object(s.a)(r.value,2)[1],a=N.getParent(t,o),c=Object(s.a)(a,2),l=c[0],u=c[1];l&&$.isListItem(l)&&(e.shiftKey?$.liftLi(t,[l,u]):$.indentLi(t,[l,u]))}}catch(f){i.e(f)}finally{i.f()}break}U.isInTable(t)&&(e.shiftKey?U.shiftTabEvent(t):U.tabEvent(t))}}(e,t):d.g.isCollapsed(n)?function(e,t){var n=t.selection;if(n){var i=N.getFirstAboveElementType(t),o=function(){return U.getEditingTd(t)},a=function(e){return e&&d.a.above(t,{at:e[1],match:function(e){return U.isTable(e)}})};switch(e.key){case"Tab":if(e.preventDefault(),r.LIST_ITEM===i){e.shiftKey?$.shiftTabEvent(t):$.tabEvent(t);break}if(r.TD===i){e.shiftKey?U.shiftTabEvent(t):U.tabEvent(t);break}!e.shiftKey&&d.i.insertText(t,"    ");break;case"ArrowUp":var c=o();if(c){var l=d.a.nodes(t,{at:c[1],mode:"lowest",match:function(e){return d.a.isBlock(t,e)}}),u=Object(s.a)(l,1)[0],f=0===c[1][c[1].length-2];if(d.e.isDescendant(n.anchor.path,u[1])){if(f){var b=d.a.nodes(t,{at:c[1],match:function(e){return U.isTable(e)}}),h=Object(s.a)(b,1)[0];if(h){var j=d.a.before(t,h[1]);e.preventDefault(),j&&d.i.select(t,j)}return}return W.findTargetTd(t,c,"up"),void e.preventDefault()}return}return;case"ArrowDown":var v=o();if(v){var p=d.a.nodes(t,{at:v[1],mode:"lowest",reverse:!0,match:function(e){return d.a.isBlock(t,e)}}),O=Object(s.a)(p,1)[0],m=d.a.nodes(t,{at:v[1],match:function(e){return d.b.isElement(e)&&e.type===r.TBODY}}),g=Object(s.a)(m,1)[0];if(!g)return;var y=d.e.isDescendant(n.anchor.path,O[1]),T=v[1][v[1].length-2]===g[0].children.length-1;if(y){if(T){var x=d.a.nodes(t,{at:v[1],match:function(e){return U.isTable(e)}}),w=Object(s.a)(x,1)[0];if(w){var E=d.a.after(t,w[1]);e.preventDefault(),E&&d.i.select(t,E)}return}return W.findTargetTd(t,v,"down"),void e.preventDefault()}return}return;case"ArrowLeft":var S=o(),C=a(S);return C&&d.a.isStart(t,n.anchor,C[1])?void W.deselectAllTd(t):S&&d.a.isStart(t,n.anchor,S[1])?(W.findTargetTd(t,S,"left"),void e.preventDefault()):void 0;case"ArrowRight":var I=o(),L=a(I);return L&&d.a.isEnd(t,n.anchor,L[1])?void W.deselectAllTd(t):I&&d.a.isEnd(t,n.anchor,I[1])?(W.findTargetTd(t,I,"right"),void e.preventDefault()):void 0;case"Home":return void te.handleKeyDown(e,t)}}}(e,t):void 0}},qt=n(436),Kt=n(437),Jt=n(438),Zt=n(227),$t=n(141),Qt=(n(369),n(174)),en=n.n(Qt),tn=function(e){var t=e.attributes,n=e.children,r=e.element,i=Object(f.d)(),o=Object(f.e)(),a=Object(f.g)(),l=Object(u.useState)({size:{width:r.width||100,height:r.height||100},showTool:!1}),b=Object(s.a)(l,2),h=b[0],j=b[1],v=Object(u.useRef)(),p=Object(u.useCallback)((function(e){e&&!v.current&&i&&(v.current=new en.a(e,{}))}),[i]),O=Object(F.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,opacity:.8,color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,backgroundColor:"black",zIndex:9},children:"uploading..."}),m=[{title:"\u8fb9\u6846",icon:Object(F.jsx)(qt.a,{}),method:function(){var e=f.b.findPath(a,r);d.i.setNodes(a,{border:!0},{at:e})}},{title:"\u53d6\u6d88\u8fb9\u6846",icon:Object(F.jsx)(Kt.a,{}),method:function(){var e=f.b.findPath(a,r);d.i.unsetNodes(a,"border",{at:e})}},{title:"\u67e5\u770b\u5927\u56fe",icon:Object(F.jsx)(Jt.a,{}),method:function(){var e=f.b.toDOMNode(a,r).querySelector("img");if(e){var t=new en.a(e,{hidden:function(){t.destroy()}});t.show()}}},{title:"\u5220\u9664",icon:Object(F.jsx)(Oe.a,{}),method:function(){var e=f.b.findPath(a,r);d.i.delete(a,{at:e,voids:!0,reverse:!0}),f.b.focus(a)}}];return Object(F.jsx)("div",Object(c.a)(Object(c.a)({},t),{},{contentEditable:!1,style:{position:"relative",display:"inline-block",margin:5,verticalAlign:"bottom",boxShadow:o?"0 0 0 3px rgba(180,215,255,.7)":"none",border:r.border?"1px solid #e5e5e5":"none"},onClick:function(){j((function(e){return Object(c.a)(Object(c.a)({},e),{},{showTool:!0})}));var e=t.ref.current;window.addEventListener("click",(function t(n){N.findParent(n.target,e)!=e&&(j((function(e){return Object(c.a)(Object(c.a)({},e),{},{showTool:!1})})),window.removeEventListener("click",t))}))},children:Object(F.jsxs)($t.a,{enable:f.b.isReadOnly(a)?{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1}:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{display:"inline-block"},size:h.size,onResizeStop:function(e,t,n,i){var o=h.size.width+i.width,l=h.size.height+i.height;j((function(e){return Object(c.a)(Object(c.a)({},e),{},{size:{width:o,height:l}})}));var s=f.b.findPath(a,r);d.i.setNodes(a,{children:[],width:o,height:l},{at:s})},children:[r.id?O:null,Object(F.jsx)(Zt.a,{content:Object(F.jsx)(X.a,{gutter:8,children:m.map((function(e){return Object(F.jsx)(q.a,{children:Object(F.jsx)(ne.a,{title:e.title,children:Object(F.jsx)(re.a,{onClick:e.method,type:"text",icon:e.icon})})},e.title)}))}),placement:"bottomLeft",visible:!i&&h.showTool,children:Object(F.jsx)("img",{ref:p,width:"100%",height:"100%",alt:"",src:r.url})}),n]})}))},nn=n(439),rn=function(e){var t=e.attributes,n=e.children,r=e.element,i=Object(f.d)(),o=Object(f.g)(),a=Object(F.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,opacity:.5,color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,backgroundColor:"black",zIndex:9},children:"uploading..."}),l=[{title:"\u4e0b\u8f7d",icon:Object(F.jsx)(nn.a,{}),method:function(){window.open(r.url)}},{title:"\u5220\u9664",icon:Object(F.jsx)(Oe.a,{}),method:function(){var e=f.b.findPath(o,r);d.i.delete(o,{at:e,voids:!0,reverse:!0}),f.b.focus(o)}}];return Object(F.jsxs)("div",Object(c.a)(Object(c.a)({},t),{},{contentEditable:!1,style:{position:"relative",display:"inline-block",margin:"0 5px",verticalAlign:"bottom"},children:[r.id?a:null,Object(F.jsx)(Zt.a,{content:Object(F.jsx)(X.a,{gutter:8,children:l.map((function(e){return Object(F.jsx)(q.a,{children:Object(F.jsx)(ne.a,{title:e.title,children:Object(F.jsx)(re.a,{onClick:e.method,type:"text",icon:e.icon})})},e.title)}))}),trigger:i?[]:"click",placement:"bottomLeft",children:Object(F.jsxs)("a",{download:!0,href:r.url,rel:"noopener noreferrer",target:"_blank",children:[Object(F.jsx)(rt.a,{style:{marginRight:2}}),r.fileName]})}),n]}))},on=n(440),an=n(398),cn=n(404),ln=function(e){var t=e.attributes,n=e.children,i=e.element,o=Object(f.g)(),a=Object(f.d)(),l=Object(u.useState)(),b=Object(s.a)(l,2),h=b[0],j=b[1],v=Object(u.useState)(),p=Object(s.a)(v,2),O=p[0],m=p[1],g={marginBottom:6},y=Object(F.jsx)(an.a,{size:"small",children:Object(F.jsxs)(X.a,{gutter:8,style:{flexDirection:"column",width:300},children:[Object(F.jsx)(q.a,{flex:"1",children:Object(F.jsxs)(an.a.Item,{label:"\u64cd\u4f5c",style:g,children:[Object(F.jsxs)(re.a,{size:"small",onClick:function(){window.open(i.url)},children:[Object(F.jsx)(Pt.a,{title:"\u8bbf\u95ee\u94fe\u63a5"})," \u8bbf\u95ee\u94fe\u63a5"]}),"\xa0",Object(F.jsxs)(re.a,{size:"small",onMouseDown:function(e){e.preventDefault(),f.b.focus(o),o.selection&&d.i.unwrapNodes(o,{match:function(e){return d.b.isElement(e)&&e.type==r.LINK}})},children:[Object(F.jsx)(on.a,{title:"\u53d6\u6d88\u94fe\u63a5"})," \u53d6\u6d88\u94fe\u63a5"]})]})}),Object(F.jsx)(q.a,{flex:"1",children:Object(F.jsx)(an.a.Item,{label:"\u6587\u5b57",style:g,children:Object(F.jsx)(cn.a,{value:h,onChange:function(e){j(e.target.value)}})})}),Object(F.jsx)(q.a,{children:Object(F.jsx)(an.a.Item,{label:"\u94fe\u63a5",style:g,children:Object(F.jsx)(cn.a,{value:O,onChange:function(e){m(e.target.value)}})})}),Object(F.jsx)(X.a,{justify:"end",children:Object(F.jsx)(re.a,{type:"primary",style:{width:100,marginRight:4},onClick:function(){f.b.focus(o);var e=f.b.toSlateNode(o,t.ref.current),n=f.b.findPath(o,e);e&&n&&(d.i.insertText(o,h||"link",{at:d.a.range(o,n)}),d.i.setNodes(o,{url:O},{at:n}))},children:"\u786e\u5b9a"})})]})});return Object(F.jsx)("div",Object(c.a)(Object(c.a)({},t),{},{style:{display:"inline",position:"relative"},children:Object(F.jsx)(Zt.a,{placement:"bottomLeft",content:y,trigger:a?[]:["click"],children:Object(F.jsx)("a",{href:i.url,target:"__blank",onMouseEnter:function(){return function(){var e=t.ref.current.querySelector("a");e&&(m(e.href),j(e.innerText))}()},children:n})})}))},sn=function(e){var t=e.attributes,n=(e.children,e.element),r=Object(f.g)(),i=Object(f.d)();return Object(F.jsx)("div",Object(c.a)(Object(c.a)({},t),{},{children:Object(F.jsx)(Q.a,{checked:n.checked,onChange:function(e){d.i.setNodes(r,{checked:e.target.checked},{at:f.b.findPath(r,n)})},disabled:i})}))},un=function(e){var t=e.attributes,n=e.children,i=e.element,o={};v.includes(i.type)&&i.textAlign&&(o=Object(c.a)(Object(c.a)({},o),N.getTextAlignStyle(i.textAlign)));var a=(e.comps||[]).find((function(e){return i.type===e.name}));if(a){var l=a.comp;return Object(F.jsx)(l,Object(c.a)({},e))}switch(i.type){case r.CHECKBOX:return Object(F.jsx)(sn,Object(c.a)({},e));case r.TODOLIST:return Object(F.jsx)(ee,Object(c.a)({},e));case r.NUMBER_LIST:return Object(F.jsx)("ol",Object(c.a)(Object(c.a)({},t),{},{children:n}));case r.NORMAL_LIST:return Object(F.jsx)("ul",Object(c.a)(Object(c.a)({},t),{},{children:n}));case r.LIST_ITEM:return Object(F.jsx)("li",Object(c.a)(Object(c.a)({},t),{},{style:{color:i[h.Color]||"unset"},children:n}));case r.DIV:return Object(F.jsx)("div",Object(c.a)(Object(c.a)({},t),{},{style:o,children:n}));case r.H1:return Object(F.jsx)("h1",Object(c.a)(Object(c.a)({},t),{},{style:Object(c.a)({},o),children:n}));case r.H2:return Object(F.jsx)("h2",Object(c.a)(Object(c.a)({},t),{},{style:Object(c.a)({},o),children:n}));case r.H3:return Object(F.jsx)("h3",Object(c.a)(Object(c.a)({},t),{},{style:Object(c.a)({},o),children:n}));case r.H4:return Object(F.jsx)("h4",Object(c.a)(Object(c.a)({},t),{},{style:Object(c.a)({},o),children:n}));case r.IMG:return Object(F.jsx)(tn,Object(c.a)(Object(c.a)({},e),{},{children:n}));case r.LINK:return Object(F.jsx)(ln,Object(c.a)({},e));case r.TABLE:return Object(F.jsx)(V,Object(c.a)({},e));case r.TBODY:return Object(F.jsx)("tbody",Object(c.a)(Object(c.a)({},t),{},{children:n}));case r.TR:var s={};return i.shouldEmpty&&(s.contentEditable=!1),Object(F.jsx)("tr",Object(c.a)(Object(c.a)(Object(c.a)({},t),s),{},{children:i.shouldEmpty?null:n}));case r.TD:return Object(F.jsx)(z,Object(c.a)({},e));case r.FILE:return Object(F.jsx)(rn,Object(c.a)({},e));default:return Object(F.jsx)("div",Object(c.a)(Object(c.a)({},t),{},{children:n}))}},dn=function(e){var t=e.attributes,n=e.children,r=e.leaf,i={};return r[h.BOLD]&&(i.fontWeight="bold"),r[h.ITALIC]&&(i.fontStyle="italic"),r[h.FontSize]&&(i.fontSize=r.fontSize),(r[h.Underline]||r[h.LineThrough])&&(i.textDecoration="".concat(r[h.Underline]?"underline":""," ").concat(r[h.LineThrough]?"line-through":"")),r[h.Color]&&(i.color=r[h.Color]),r[h.BGColor]&&(i.backgroundColor=r[h.BGColor]),Object(F.jsx)("span",Object(c.a)(Object(c.a)({},t),{},{style:i,children:n}))},fn=(n(370),n(371),{position:"absolute",boxSizing:"border-box",zIndex:999}),bn=function(e){var t=e.visible,n=void 0!==t&&t,r=e.left,i=e.top,o=Object(u.useState)(r),a=Object(s.a)(o,2),l=a[0],d=a[1],f=Object(u.useRef)();return Object(u.useLayoutEffect)((function(){if(f.current&&n&&r>=0){var e=f.current,t=e.offsetWidth,i=N.findParentByClassName(e,T);if(!i)return;var o=i.offsetWidth;d(r+t>o?o-t-14:r)}}),[r,n]),Object(F.jsx)("div",{ref:function(e){return f.current=e},id:y,style:Object(c.a)(Object(c.a)({},fn),{},{display:!0===n?"block":"none",left:l,top:i}),children:e.childrenComp})},hn="code",jn=n(219);n(372),n(373),n(374),n(375),n(376),n(118),n(99),n(377),n(378),n(388),n(389);var vn,pn=[{title:"html",value:"text/html"},{title:"javascript",value:"javascript"},{title:"react",value:"text/jsx"},{title:"react-ts",value:"text/typescript-jsx"},{title:"vue",value:"vue"},{title:"java",value:"text/x-java"},{title:"c++",value:"text/x-c++src"}],On={rule:function(e){var t=e.isVoid,n=e.deleteForward,i=e.deleteBackward;return e.isVoid=function(e){return!![hn].includes(e.type)||t(e)},e.deleteForward=function(t){if(e.selection){var i=d.a.after(e,e.selection.anchor);if(i){var o=d.a.above(e,{at:i,match:function(e){return d.b.isElement(e)&&e.type===r.CODE}});if(o)return void d.i.removeNodes(e,{at:o[1],hanging:!0})}n(t)}},e.deleteBackward=function(t){if(e.selection){var n=d.a.before(e,e.selection.anchor);if(n){var o=d.a.above(e,{at:n,match:function(e){return d.b.isElement(e)&&e.type===r.CODE}});if(o)return d.i.removeNodes(e,{at:o[1],hanging:!0}),!0}i(t)}},e},comp:function(e){var t=e.attributes,n=e.children,r=e.element,i=Object(f.d)(),o=Object(f.g)(),a=Object(u.useState)({size:{width:"100%",height:r.height||300},showTool:!1}),l=Object(s.a)(a,2),b=l[0],h=l[1],j=Object(u.useState)(r.defaultCode||""),v=Object(s.a)(j,2),p=v[0],O=v[1],m=Object(u.useRef)(null),g=Object(u.useRef)(E.a.debounce((function(e){var t=f.b.findPath(o,r);d.i.setNodes(o,{children:[],defaultCode:e},{at:t})}),100)),y=Object(u.useMemo)((function(){return{mode:r.defaultMode,theme:"vscode-dark",lineNumbers:!0,readOnly:!!i&&"nocursor"}}),[r.defaultMode,i]),T=Object(u.useCallback)((function(e){m.current=e,e.setSize("100%",r.height)}),[]),x=Object(u.useCallback)((function(e,t,n){g.current(n)}),[g]);return Object(F.jsxs)("div",Object(c.a)(Object(c.a)({className:"CodeComp"},t),{},{contentEditable:!1,style:{paddingTop:30},children:[Object(F.jsxs)($t.a,{enable:f.b.isReadOnly(o)?{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1}:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},style:{display:"inline-block",position:"relative"},size:b.size,onResizeStop:function(e,t,n,i){h((function(e){return Object(c.a)(Object(c.a)({},e),{},{size:Object(c.a)(Object(c.a)({},e.size),{},{height:n.offsetHeight})})}));var a=f.b.findPath(o,r);d.i.setNodes(o,{children:[],height:n.offsetHeight},{at:a})},onResize:function(e,t,n,r){var i;null===(i=m.current)||void 0===i||i.setSize("100%",n.offsetHeight)},children:[Object(F.jsx)("div",{style:{color:"white",position:"absolute",backgroundColor:"#2B2B2B",right:0,width:"100%",top:-24,zIndex:7,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:Object(F.jsx)(ue.a,{size:"small",defaultValue:r.defaultMode,style:{width:120,color:"white",textAlign:"right"},bordered:!1,showArrow:!1,onChange:function(e){var t=f.b.findPath(o,r);d.i.setNodes(o,{children:[],defaultMode:e},{at:t})},children:pn.map((function(e){return Object(F.jsx)(ue.a.Option,{value:e.value,children:e.title},e.value)}))})}),Object(u.useMemo)((function(){return Object(F.jsx)(jn.Controlled,{value:p,onBeforeChange:function(e,t,n){O(n)},options:y,onChange:x,editorDidMount:T})}),[p,y,T,x])]}),n]}))},name:hn,button:Wt},mn=n(405),gn=n(396),yn=n(95),Tn=n(397),xn=n(406),wn=n(399),En=n(402),Sn=n(64),Nn=n(441),Cn=n(175),In=new Array(100).fill(0).map((function(e,t){return{name:Cn.Random.cname(),id:Cn.Random.id(),moreInfo:{org:"\u90e8\u95e8\u90e8\u95e8\u90e8\u95e8/\u90e8\u95e8\u90e8\u95e8\u90e8\u95e8/\u90e8\u95e8\u90e8\u95e8\u90e8\u95e8/\u90e8\u95e8\u90e8\u95e8\u90e8\u95e8"}}})),Ln=function(e){return function(e){for(var t=e.parentNode;null!=t&&"ChoosePersonComp"!==t.id;)t=t.parentNode;return t}(e)||document.body};function Dn(e,t){return new Promise((function(n,r){setTimeout((function(){if(t!==vn)return console.warn("search request canceled, reason: has new request"),void r();n(E.a.cloneDeep(E.a.filter(In,(function(t){return function(e,t){return""!==t&&(-1!==e.name.indexOf(t)||String(e.id).includes(t))}(t,e)}))))}),300)}))}var Bn=E.a.debounce((function(e,t){Dn(e,vn=(new Date).getTime()).then((function(e){t(e)})).catch((function(){}))}),300),An=function(e){var t=e.initPerson,n=Object(u.useState)((null===t||void 0===t?void 0:t.id)?[t]:[]),r=Object(s.a)(n,2),i=r[0],o=r[1],d=Object(u.useState)([]),f=Object(s.a)(d,2),b=f[0],h=f[1],j=Object(u.useState)(!1),v=Object(s.a)(j,2),p=v[0],O=v[1],m=Object(u.useRef)(),y=Object(u.useCallback)((function(e){e&&(m.current=e,setTimeout((function(){var t;null===(t=e.querySelector("input"))||void 0===t||t.focus()}),0))}),[]);Object(u.useEffect)((function(){null==(null===t||void 0===t?void 0:t.id)||""===(null===t||void 0===t?void 0:t.id)?o([]):(o([t]),h([t]))}),[t]);var T=Object(u.useMemo)((function(){return{allowClear:!0,showSearch:!0,mode:"multiple",dropdownClassName:"choosePersonCompDropDown",style:{width:450},filterOption:!1,placeholder:"\u8f93\u5165\u5de5\u53f7\u6216\u59d3\u540d\u8fdb\u884c\u641c\u7d22",optionLabelProp:"label",value:b.map((function(e){return e.id})),tagRender:function(e){var t,n,r,i;return Object(F.jsx)(mn.a,Object(c.a)(Object(c.a)({},e),{},{style:{marginTop:4,marginBottom:4,textAlign:"center"},children:Object(F.jsx)(wn.a.Text,{title:null===(t=String(e.label))||void 0===t||null===(n=t.split("@"))||void 0===n?void 0:n.join(""),ellipsis:!0,style:{width:36},children:null===(r=String(e.label))||void 0===r||null===(i=r.split("@"))||void 0===i?void 0:i[0]})}))},notFoundContent:p?Object(F.jsx)(gn.a,{size:"small",style:{marginLeft:10},indicator:Object(F.jsx)(Sn.a,{spin:!0})}):Object(F.jsx)(yn.a,{}),getPopupContainer:Ln,onClear:function(){o([]),h([])},onSearch:function(e){O(!0),o([]),Bn(e,(function(e){o(e),O(!1)}))},onChange:function(e){h((function(t){return E.a.uniqBy([].concat(Object(l.a)(t.filter((function(t){var n,r;return null===e||void 0===e||null===(n=(r=e).includes)||void 0===n?void 0:n.call(r,String(t.id))}))),Object(l.a)(i.filter((function(t){return e.find((function(e){return e===String(t.id)}))})))),"id")}))},dropdownStyle:{zIndex:Number.MAX_SAFE_INTEGER}}}),[p,b,i]),x=function(e){var t,n,r;return Object(F.jsxs)(X.a,{style:{flexDirection:"row",flexWrap:"nowrap"},align:"middle",gutter:12,children:[Object(F.jsx)(q.a,{children:Object(F.jsx)(En.a,{size:"default",src:null===(t=e.moreInfo)||void 0===t?void 0:t.avatarSrc,icon:Object(F.jsx)(Nn.a,{})})}),Object(F.jsx)(q.a,{flex:"1",children:Object(F.jsx)(X.a,{style:{width:"calc(100% - 44px)",height:"100%",lineHeight:1.5},justify:"center",children:Object(F.jsxs)(q.a,{children:[Object(F.jsxs)(wn.a.Text,{strong:!0,children:[e.name," ",Object(F.jsx)(wn.a.Text,{type:"secondary",children:e.id})]}),Object(F.jsx)("br",{}),Object(F.jsx)(wn.a.Text,{type:"secondary",ellipsis:!0,title:null===(n=e.moreInfo)||void 0===n?void 0:n.org,children:null===(r=e.moreInfo)||void 0===r?void 0:r.org})]})})})]})},w=i.map((function(e){return Object(F.jsx)(ue.a.Option,{value:e.id,label:e.name+"@"+e.id,style:{fontSize:10,paddingTop:4,paddingBottom:4},children:x(e)},e.id)}));return Object(F.jsx)("div",Object(c.a)(Object(c.a)({ref:y,id:"ChoosePersonComp","data-no-base-class":"choosePersonComp"},Object(a.a)({},g,"atPerson")),{},{children:Object(F.jsx)(Tn.a,{bodyStyle:{padding:12,boxShadow:"0 1px 2px -2px #00000029, 0 3px 6px #0000001f, 0 5px 12px 4px #00000017"},children:Object(F.jsx)(X.a,{style:{flexDirection:"column"},children:Object(F.jsx)(q.a,{children:Object(F.jsxs)(xn.b,{children:[Object(F.jsx)(ue.a,Object(c.a)(Object(c.a)({},T),{},{children:w})),Object(F.jsx)(re.a,{type:"primary",onClick:function(){var t;null===e||void 0===e||null===(t=e.onChange)||void 0===t||t.call(e,E.a.cloneDeep(b))},style:{float:"right"},children:"\u786e\u5b9a"})]})})})})}))},Rn="atPerson",Mn={comp:function(e){var t=e.attributes,n=e.children;return Object(F.jsx)("a",Object(c.a)(Object(c.a)(Object(c.a)({},t),{},{className:O.AT_PERSON_TEXT},Object(a.a)({},g,O.AT_PERSON_TEXT)),{},{style:{margin:"0 0.2em"},children:n}))},rule:function(e){var t=e.isInline,n=e.insertText;return e.isInline=function(e){return!![Rn].includes(e.type)||t(e)},e.insertText=function(t){if(n(t),"@"===t){var r=function(){var t,n=N.getCursorPos(e),r=Object(s.a)(n,2),i=r[0],o=r[1];null===(t=e.setFixLayoutBox)||void 0===t||t.call(e,{visible:!0,left:i,top:o+18},Object(F.jsx)(An,{onChange:function(t){var n;null===(n=e.setFixLayoutBox)||void 0===n||n.call(e,{visible:!1}),f.b.focus(e),d.i.delete(e,{reverse:!0}),t&&(d.i.insertNodes(e,t.map((function(e){return{type:Rn,children:[{text:"@"+e.name+e.id}]}}))),setTimeout((function(){d.i.move(e),d.i.move(e,{reverse:!0})}),0))}}));var a=function t(n){var r;"Escape"===n.key&&(null===(r=e.setFixLayoutBox)||void 0===r||r.call(e,{visible:!1}),window.removeEventListener("mousedown",c),window.removeEventListener("keydown",t))},c=function t(n){var r;(function(e){var t;return!(null===(t=document.querySelector("#".concat(y)))||void 0===t?void 0:t.contains(e.target))})(n)&&(null===(r=e.setFixLayoutBox)||void 0===r||r.call(e,{visible:!1}),window.removeEventListener("mousedown",t),window.removeEventListener("keydown",a))};window.addEventListener("mousedown",c),window.addEventListener("keydown",a)};setTimeout((function(){r()}),0)}},e},name:Rn},Pn=Object(u.createContext)({savedMarks:null,setSavedMarks:function(){},readOnly:!1,setReadOnly:function(){}}),Fn=function(e){var t=e.plugins,n=Object(u.useRef)(null),i=Object(u.useState)({left:0,top:0,visible:!1}),o=Object(s.a)(i,2),j=o[0],v=o[1],p=Object(u.useState)((function(){return function(e){return e.reduceRight((function(e,t){return t(e)}),Object(d.j)())}([function(e){return e.setFixLayoutBox=function(e,t){var n=e.left,r=void 0===n?0:n,i=e.top,o=void 0===i?0:i,a=e.visible;v((function(e){return Object(c.a)(Object(c.a)({},e),{},{left:r,top:o,visible:a,childrenComp:t})}))},e}].concat(Object(l.a)((null===t||void 0===t?void 0:t.map((function(e){return e.rule})))||[]),[Gt,b.b,f.h]))})),O=Object(s.a)(p,1)[0],m=Object(u.useState)((function(){var t=e.content||window.localStorage.getItem("savedContent")||JSON.stringify([{type:r.DIV,children:[{text:""}]}]);return JSON.parse(t)})),g=Object(s.a)(m,2),y=g[0],x=g[1],w=Object(u.useRef)({preUndos:[],preSelection:null}),E=Object(u.useState)(),S=Object(s.a)(E,2),C=S[0],I=S[1];Object(u.useEffect)((function(){document.body.style.cursor=null!=C?"copy":"auto"}),[C]);var D=Object(u.useState)(!1),B=Object(s.a)(D,2),A=B[0],R=B[1];Object(u.useEffect)((function(){var t;null===(t=e.getEditor)||void 0===t||t.call(e,O)}),[O,j,e]);var M=Object(u.useCallback)((function(e){return Object(F.jsx)(un,Object(c.a)(Object(c.a)({},e),{},{comps:null===t||void 0===t?void 0:t.map((function(e){return{comp:e.comp,name:e.name}})),editorRef:w}))}),[t]),P=Object(u.useCallback)((function(e){return Object(F.jsx)(dn,Object(c.a)({},e))}),[]),k=Object(u.useMemo)((function(){return Object(F.jsx)(Vt,{buttons:e.toolbars||[]})}),[e.toolbars]);return Object(F.jsx)("div",{className:"cyEditor",style:{position:"relative"},children:Object(F.jsx)(f.c,{editor:O,value:y,onChange:function(e){x(e)},children:Object(F.jsxs)(Pn.Provider,{value:Object(u.useMemo)((function(){return{savedMarks:C,setSavedMarks:I,readOnly:A,setReadOnly:R}}),[A,C]),children:[0===(e.toolbars||[]).length?null:k,Object(F.jsxs)("div",{className:T,ref:n,style:{overflowY:"auto",overflowX:"hidden",height:window.screen.availHeight-200,border:"1px solid",padding:12,position:"relative"},children:[Object(F.jsx)(bn,Object(c.a)({},j)),Object(F.jsx)(f.a,{renderElement:M,renderLeaf:P,autoFocus:!0,readOnly:A,onCompositionStart:function(){N.removeRangeElement(O)},onDOMBeforeInput:function(e){"insertFromPaste"===e.inputType&&((L()||[]).length>0&&(e.preventDefault(),f.b.insertData(O,N.getDataTransfer([]))))},placeholder:"welcome to cyEditor!",onKeyDown:function(e){return Xt(e,O)},onMouseDown:function(e){W.deselectAllTd(O)},onDragStart:function(e){e.preventDefault()},onBlur:function(){w.current.preSelection=O.selection},onFocus:function(){w.current.preSelection&&d.a.hasPath(O,w.current.preSelection.anchor.path)&&d.a.hasPath(O,w.current.preSelection.focus.path)&&d.i.select(O,w.current.preSelection)},onSelect:function(){if(null!=C){if(U.getFirstSelectedTd(O))return;for(var e=C[h.TextAlign],t=Array.from(d.a.nodes(O,{mode:"lowest",match:function(e){return N.isTextWrapper(e)||te.isTodoList(e)}}))||[],n=0,r=Object.values(h);n<r.length;n++){var i=r[n];d.a.removeMark(O,i)}for(var o in t.forEach((function(e){d.i.unsetNodes(O,h.TextAlign,{at:e[1]})})),C)"children"!==o&&d.a.addMark(O,o,C[o]);e&&t.forEach((function(e){d.i.setNodes(O,Object(a.a)({},h.TextAlign,C[h.TextAlign]),{at:e[1]})})),I(null),document.body.style.cursor="auto",O.selection&&d.i.select(O,d.a.start(O,O.selection))}}})]})]})})})},kn=function(e){return Object(F.jsx)(Fn,{plugins:e.plugins||[On,Mn],toolbars:e.toolbars||Object.values(j)})};o.a.render(Object(F.jsx)(kn,{}),document.getElementById("root"))}},[[391,1,2]]]);
//# sourceMappingURL=main.7b1a0b51.chunk.js.map